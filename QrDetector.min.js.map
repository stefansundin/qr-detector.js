{"version":3,"file":"QrDetector.min.js","mappings":"sEAAA,MAAMA,EACF,WAAAC,CAAYC,EAAMC,GACdC,KAAKD,MAAQA,EACbC,KAAKC,OAASH,EAAKI,OAASH,EAC5BC,KAAKF,KAAOA,CAChB,CACA,kBAAOK,CAAYJ,EAAOE,GACtB,OAAO,IAAIL,EAAU,IAAIQ,kBAAkBL,EAAQE,GAASF,EAChE,CACA,GAAAM,CAAIC,EAAGC,GACH,QAAID,EAAI,GAAKA,GAAKN,KAAKD,OAASQ,EAAI,GAAKA,GAAKP,KAAKC,SAG1CD,KAAKF,KAAKS,EAAIP,KAAKD,MAAQO,GACxC,CACA,GAAAE,CAAIF,EAAGC,EAAGE,GACNT,KAAKF,KAAKS,EAAIP,KAAKD,MAAQO,GAAKG,EAAI,EAAI,CAC5C,CACA,SAAAC,CAAUC,EAAMC,EAAKb,EAAOE,EAAQQ,GAChC,IAAK,IAAIF,EAAIK,EAAKL,EAAIK,EAAMX,EAAQM,IAChC,IAAK,IAAID,EAAIK,EAAML,EAAIK,EAAOZ,EAAOO,IACjCN,KAAKQ,IAAIF,EAAGC,IAAKE,EAG7B,EAGJ,MAAMI,EAAc,EACdC,EAAoB,GAC1B,SAASC,EAAWC,EAAOC,EAAKC,GAC5B,OAAOF,EAAQC,EAAMA,EAAMD,EAAQE,EAAMA,EAAMF,CACnD,CAEA,MAAMG,EACF,WAAAtB,CAAYE,EAAOE,EAAQmB,GACvBpB,KAAKD,MAAQA,EACb,MAAMsB,EAAatB,EAAQE,EAC3B,GAAImB,GAAUA,EAAOlB,SAAWmB,EAC5B,MAAM,IAAIC,MAAM,qBAEpBtB,KAAKF,KAAOsB,GAAU,IAAIhB,kBAAkBiB,EAChD,CACA,GAAAhB,CAAIC,EAAGC,GACH,OAAOP,KAAKF,KAAKS,EAAIP,KAAKD,MAAQO,EACtC,CACA,GAAAE,CAAIF,EAAGC,EAAGS,GACNhB,KAAKF,KAAKS,EAAIP,KAAKD,MAAQO,GAAKU,CACpC,EAgJJ,MAAMO,EACF,WAAA1B,CAAY2B,GACRxB,KAAKyB,WAAa,EAClBzB,KAAK0B,UAAY,EACjB1B,KAAKwB,MAAQA,CACjB,CACA,QAAAG,CAASC,GACL,GAAIA,EAAU,GAAKA,EAAU,IAAMA,EAAU5B,KAAK6B,YAC9C,MAAM,IAAIP,MAAM,eAAiBM,EAAQE,WAAa,SAE1D,IAAIC,EAAS,EAEb,GAAI/B,KAAK0B,UAAY,EAAG,CACpB,MAAMM,EAAW,EAAIhC,KAAK0B,UACpBO,EAASL,EAAUI,EAAWJ,EAAUI,EACxCE,EAAgBF,EAAWC,EAC3BE,EAAQ,KAAS,EAAIF,GAAYC,EACvCH,GAAU/B,KAAKwB,MAAMxB,KAAKyB,YAAcU,IAASD,EACjDN,GAAWK,EACXjC,KAAK0B,WAAaO,EACK,IAAnBjC,KAAK0B,YACL1B,KAAK0B,UAAY,EACjB1B,KAAKyB,aAEb,CAEA,GAAIG,EAAU,EAAG,CACb,KAAOA,GAAW,GACdG,EAAUA,GAAU,EAAoC,IAA9B/B,KAAKwB,MAAMxB,KAAKyB,YAC1CzB,KAAKyB,aACLG,GAAW,EAGf,GAAIA,EAAU,EAAG,CACb,MAAMM,EAAgB,EAAIN,EACpBO,EAAQ,KAAQD,GAAkBA,EACxCH,EAAUA,GAAUH,GAAa5B,KAAKwB,MAAMxB,KAAKyB,YAAcU,IAASD,EACxElC,KAAK0B,WAAaE,CACtB,CACJ,CACA,OAAOG,CACX,CACA,SAAAF,GACI,OAAO,GAAK7B,KAAKwB,MAAMtB,OAASF,KAAKyB,YAAczB,KAAK0B,SAC5D,EAIJ,IAAIU,EASAC,EAYJ,SAASC,EAAcC,EAAQC,GAC3B,MAAMhB,EAAQ,GACd,IAAIiB,EAAO,GACX,MAAMC,EAAqB,CAAC,GAAI,GAAI,IAAIF,GACxC,IAAItC,EAASqC,EAAOZ,SAASe,GAE7B,KAAOxC,GAAU,GAAG,CAChB,MAAMyC,EAAMJ,EAAOZ,SAAS,IAC5B,GAAIgB,GAAO,IACP,MAAM,IAAIrB,MAAM,mCAEpB,MAAMsB,EAAIC,KAAKC,MAAMH,EAAM,KACrBI,EAAIF,KAAKC,MAAMH,EAAM,IAAM,GAC3BK,EAAIL,EAAM,GAChBnB,EAAMyB,KAAK,GAAKL,EAAG,GAAKG,EAAG,GAAKC,GAChCP,GAAQG,EAAEd,WAAaiB,EAAEjB,WAAakB,EAAElB,WACxC5B,GAAU,CACd,CAEA,GAAe,IAAXA,EAAc,CACd,MAAMyC,EAAMJ,EAAOZ,SAAS,GAC5B,GAAIgB,GAAO,IACP,MAAM,IAAIrB,MAAM,kCAEpB,MAAMsB,EAAIC,KAAKC,MAAMH,EAAM,IACrBI,EAAIJ,EAAM,GAChBnB,EAAMyB,KAAK,GAAKL,EAAG,GAAKG,GACxBN,GAAQG,EAAEd,WAAaiB,EAAEjB,UAC7B,MACK,GAAe,IAAX5B,EAAc,CACnB,MAAMyC,EAAMJ,EAAOZ,SAAS,GAC5B,GAAIgB,GAAO,GACP,MAAM,IAAIrB,MAAM,iCAEpBE,EAAMyB,KAAK,GAAKN,GAChBF,GAAQE,EAAIb,UAChB,CACA,MAAO,CAAEN,QAAOiB,OACpB,EA1DA,SAAWL,GACPA,EAAc,QAAI,UAClBA,EAAmB,aAAI,eACvBA,EAAW,KAAI,OACfA,EAAY,MAAI,QAChBA,EAAU,IAAI,MACdA,EAAuB,iBAAI,kBAC9B,CAPD,CAOGA,IAASA,EAAO,CAAC,IAEpB,SAAWC,GACPA,EAASA,EAAqB,WAAI,GAAK,aACvCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAuB,aAAI,GAAK,eACzCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAc,IAAI,GAAK,MAChCA,EAASA,EAA2B,iBAAI,GAAK,kBAGhD,CAVD,CAUGA,IAAaA,EAAW,CAAC,IAwC5B,MAAMa,EAA6B,CAC/B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACxC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACxC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACxC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACxC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE5C,SAASC,EAAmBZ,EAAQC,GAChC,MAAMhB,EAAQ,GACd,IAAIiB,EAAO,GACX,MAAMC,EAAqB,CAAC,EAAG,GAAI,IAAIF,GACvC,IAAItC,EAASqC,EAAOZ,SAASe,GAC7B,KAAOxC,GAAU,GAAG,CAChB,MAAMO,EAAI8B,EAAOZ,SAAS,IACpBiB,EAAIC,KAAKC,MAAMrC,EAAI,IACnBsC,EAAItC,EAAI,GACde,EAAMyB,KAAKC,EAA2BN,GAAGQ,WAAW,GAAIF,EAA2BH,GAAGK,WAAW,IACjGX,GAAQS,EAA2BN,GAAKM,EAA2BH,GACnE7C,GAAU,CACd,CACA,GAAe,IAAXA,EAAc,CACd,MAAM0C,EAAIL,EAAOZ,SAAS,GAC1BH,EAAMyB,KAAKC,EAA2BN,GAAGQ,WAAW,IACpDX,GAAQS,EAA2BN,EACvC,CACA,MAAO,CAAEpB,QAAOiB,OACpB,CACA,SAASY,EAAWd,EAAQC,GACxB,MAAMhB,EAAQ,GACd,IAAIiB,EAAO,GACX,MAAMC,EAAqB,CAAC,EAAG,GAAI,IAAIF,GACjCtC,EAASqC,EAAOZ,SAASe,GAC/B,IAAK,IAAIY,EAAI,EAAGA,EAAIpD,EAAQoD,IAAK,CAC7B,MAAMP,EAAIR,EAAOZ,SAAS,GAC1BH,EAAMyB,KAAKF,EACf,CACA,IACIN,GAAQc,mBAAmB/B,EAAMgC,KAAIT,GAAK,KAAK,IAAMA,EAAEjB,SAAS,KAAK2B,QAAQ,OAAMC,KAAK,IAC5F,CACA,MAAOC,GAEP,CACA,MAAO,CAAEnC,QAAOiB,OACpB,CACA,SAASmB,EAAYrB,EAAQC,GACzB,MAAMhB,EAAQ,GACRkB,EAAqB,CAAC,EAAG,GAAI,IAAIF,GACjCtC,EAASqC,EAAOZ,SAASe,GAC/B,IAAK,IAAIY,EAAI,EAAGA,EAAIpD,EAAQoD,IAAK,CAC7B,MAAMO,EAAItB,EAAOZ,SAAS,IAC1B,IAAIqB,EAAKH,KAAKC,MAAMe,EAAI,MAAS,EAAMA,EAAI,IAEvCb,GADAA,EAAI,KACC,MAGA,MAETxB,EAAMyB,KAAKD,GAAK,EAAO,IAAJA,EACvB,CAEA,MAAO,CAAExB,QAAOiB,KADH,IAAIqB,YAAY,aAAaC,OAAOC,WAAWC,KAAKzC,IAErE,CAgGA,MAAM0C,EACF,WAAArE,CAAYsE,EAAOC,GACf,GAA4B,IAAxBA,EAAalE,OACb,MAAM,IAAIoB,MAAM,oBAEpBtB,KAAKmE,MAAQA,EACb,MAAME,EAAqBD,EAAalE,OACxC,GAAImE,EAAqB,GAAyB,IAApBD,EAAa,GAAU,CAEjD,IAAIE,EAAe,EACnB,KAAOA,EAAeD,GAAqD,IAA/BD,EAAaE,IACrDA,IAEJ,GAAIA,IAAiBD,EACjBrE,KAAKoE,aAAeD,EAAMI,KAAKH,iBAE9B,CACDpE,KAAKoE,aAAe,IAAIhE,kBAAkBiE,EAAqBC,GAC/D,IAAK,IAAIhB,EAAI,EAAGA,EAAItD,KAAKoE,aAAalE,OAAQoD,IAC1CtD,KAAKoE,aAAad,GAAKc,EAAaE,EAAehB,EAE3D,CACJ,MAEItD,KAAKoE,aAAeA,CAE5B,CACA,MAAAI,GACI,OAAOxE,KAAKoE,aAAalE,OAAS,CACtC,CACA,MAAAuE,GACI,OAAgC,IAAzBzE,KAAKoE,aAAa,EAC7B,CACA,cAAAM,CAAeF,GACX,OAAOxE,KAAKoE,aAAapE,KAAKoE,aAAalE,OAAS,EAAIsE,EAC5D,CACA,aAAAG,CAAcC,GACV,GAAI5E,KAAKyE,SACL,OAAOG,EAEX,GAAIA,EAAMH,SACN,OAAOzE,KAEX,IAAI6E,EAAsB7E,KAAKoE,aAC3BU,EAAqBF,EAAMR,aAC3BS,EAAoB3E,OAAS4E,EAAmB5E,UAC/C2E,EAAqBC,GAAsB,CAACA,EAAoBD,IAErE,MAAME,EAAU,IAAI3E,kBAAkB0E,EAAmB5E,QACnD8E,EAAaF,EAAmB5E,OAAS2E,EAAoB3E,OACnE,IAAK,IAAIoD,EAAI,EAAGA,EAAI0B,EAAY1B,IAC5ByB,EAAQzB,GAAKwB,EAAmBxB,GAEpC,IAAK,IAAIA,EAAI0B,EAAY1B,EAAIwB,EAAmB5E,OAAQoD,IACpDyB,EAAQzB,GAAK2B,EAAgBJ,EAAoBvB,EAAI0B,GAAaF,EAAmBxB,IAEzF,OAAO,IAAIY,EAAclE,KAAKmE,MAAOY,EACzC,CACA,QAAAG,CAASC,GACL,GAAe,IAAXA,EACA,OAAOnF,KAAKmE,MAAMI,KAEtB,GAAe,IAAXY,EACA,OAAOnF,KAEX,MAAMwC,EAAOxC,KAAKoE,aAAalE,OACzBkF,EAAU,IAAIhF,kBAAkBoC,GACtC,IAAK,IAAIc,EAAI,EAAGA,EAAId,EAAMc,IACtB8B,EAAQ9B,GAAKtD,KAAKmE,MAAMe,SAASlF,KAAKoE,aAAad,GAAI6B,GAE3D,OAAO,IAAIjB,EAAclE,KAAKmE,MAAOiB,EACzC,CACA,YAAAC,CAAaT,GACT,GAAI5E,KAAKyE,UAAYG,EAAMH,SACvB,OAAOzE,KAAKmE,MAAMI,KAEtB,MAAMe,EAAgBtF,KAAKoE,aACrBmB,EAAUD,EAAcpF,OACxBsF,EAAgBZ,EAAMR,aACtBqB,EAAUD,EAActF,OACxBkF,EAAU,IAAIhF,kBAAkBmF,EAAUE,EAAU,GAC1D,IAAK,IAAInC,EAAI,EAAGA,EAAIiC,EAASjC,IAAK,CAC9B,MAAMoC,EAASJ,EAAchC,GAC7B,IAAK,IAAIqC,EAAI,EAAGA,EAAIF,EAASE,IACzBP,EAAQ9B,EAAIqC,GAAKV,EAAgBG,EAAQ9B,EAAIqC,GAAI3F,KAAKmE,MAAMe,SAASQ,EAAQF,EAAcG,IAEnG,CACA,OAAO,IAAIzB,EAAclE,KAAKmE,MAAOiB,EACzC,CACA,kBAAAQ,CAAmBpB,EAAQqB,GACvB,GAAIrB,EAAS,EACT,MAAM,IAAIlD,MAAM,8BAEpB,GAAoB,IAAhBuE,EACA,OAAO7F,KAAKmE,MAAMI,KAEtB,MAAM/B,EAAOxC,KAAKoE,aAAalE,OACzBkF,EAAU,IAAIhF,kBAAkBoC,EAAOgC,GAC7C,IAAK,IAAIlB,EAAI,EAAGA,EAAId,EAAMc,IACtB8B,EAAQ9B,GAAKtD,KAAKmE,MAAMe,SAASlF,KAAKoE,aAAad,GAAIuC,GAE3D,OAAO,IAAI3B,EAAclE,KAAKmE,MAAOiB,EACzC,CACA,UAAAU,CAAWlD,GACP,IAAIb,EAAS,EACb,GAAU,IAANa,EAEA,OAAO5C,KAAK0E,eAAe,GAE/B,MAAMlC,EAAOxC,KAAKoE,aAAalE,OAC/B,GAAU,IAAN0C,EAKA,OAHA5C,KAAKoE,aAAa2B,SAASF,IACvB9D,EAASkD,EAAgBlD,EAAQ8D,EAAY,IAE1C9D,EAEXA,EAAS/B,KAAKoE,aAAa,GAC3B,IAAK,IAAId,EAAI,EAAGA,EAAId,EAAMc,IACtBvB,EAASkD,EAAgBjF,KAAKmE,MAAMe,SAAStC,EAAGb,GAAS/B,KAAKoE,aAAad,IAE/E,OAAOvB,CACX,EAGJ,SAASkD,EAAgBrC,EAAGG,GACxB,OAAOH,EAAIG,CACf,CACA,MAAMiD,EACF,WAAAnG,CAAYoG,EAAWzD,EAAM0D,GACzBlG,KAAKiG,UAAYA,EACjBjG,KAAKwC,KAAOA,EACZxC,KAAKmG,cAAgBD,EACrBlG,KAAKoG,SAAW,IAAIC,MAAMrG,KAAKwC,MAC/BxC,KAAKsG,SAAW,IAAID,MAAMrG,KAAKwC,MAC/B,IAAIlC,EAAI,EACR,IAAK,IAAIgD,EAAI,EAAGA,EAAItD,KAAKwC,KAAMc,IAC3BtD,KAAKoG,SAAS9C,GAAKhD,EACnBA,GAAQ,EACJA,GAAKN,KAAKwC,OACVlC,GAAKA,EAAIN,KAAKiG,WAAcjG,KAAKwC,KAAO,GAGhD,IAAK,IAAIc,EAAI,EAAGA,EAAItD,KAAKwC,KAAO,EAAGc,IAC/BtD,KAAKsG,SAAStG,KAAKoG,SAAS9C,IAAMA,EAEtCtD,KAAKuE,KAAO,IAAIL,EAAclE,KAAMI,kBAAkB6D,KAAK,CAAC,KAC5DjE,KAAKuG,IAAM,IAAIrC,EAAclE,KAAMI,kBAAkB6D,KAAK,CAAC,IAC/D,CACA,QAAAiB,CAAStC,EAAGG,GACR,OAAU,IAANH,GAAiB,IAANG,EACJ,EAEJ/C,KAAKoG,UAAUpG,KAAKsG,SAAS1D,GAAK5C,KAAKsG,SAASvD,KAAO/C,KAAKwC,KAAO,GAC9E,CACA,OAAAgE,CAAQ5D,GACJ,GAAU,IAANA,EACA,MAAM,IAAItB,MAAM,kBAEpB,OAAOtB,KAAKoG,SAASpG,KAAKwC,KAAOxC,KAAKsG,SAAS1D,GAAK,EACxD,CACA,aAAA6D,CAAcjC,EAAQqB,GAClB,GAAIrB,EAAS,EACT,MAAM,IAAIlD,MAAM,uCAEpB,GAAoB,IAAhBuE,EACA,OAAO7F,KAAKuE,KAEhB,MAAMH,EAAe,IAAIhE,kBAAkBoE,EAAS,GAEpD,OADAJ,EAAa,GAAKyB,EACX,IAAI3B,EAAclE,KAAMoE,EACnC,CACA,GAAAsC,CAAI9D,GACA,GAAU,IAANA,EACA,MAAM,IAAItB,MAAM,qBAEpB,OAAOtB,KAAKsG,SAAS1D,EACzB,CACA,GAAA+D,CAAI/D,GACA,OAAO5C,KAAKoG,SAASxD,EACzB,EAmFJ,SAASgE,EAASpF,EAAOqF,GACrB,MAAMC,EAAc,IAAI1G,kBAAkBoB,EAAMtB,QAChD4G,EAAYtG,IAAIgB,GAChB,MAAM2C,EAAQ,IAAI6B,EAAU,IAAQ,IAAK,GACnCe,EAAO,IAAI7C,EAAcC,EAAO2C,GAChCE,EAAuB,IAAI5G,kBAAkByG,GACnD,IAAII,GAAQ,EACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAMK,IAAK,CAC3B,MAAMC,EAAaJ,EAAKjB,WAAW3B,EAAMwC,IAAIO,EAAI/C,EAAMgC,gBACvDa,EAAqBA,EAAqB9G,OAAS,EAAIgH,GAAKC,EACzC,IAAfA,IACAF,GAAQ,EAEhB,CACA,IAAKA,EACD,OAAOH,EAEX,MAAMM,EAAW,IAAIlD,EAAcC,EAAO6C,GACpCK,EAlGV,SAA+BlD,EAAOvB,EAAGG,EAAGuE,GAEpC1E,EAAE4B,SAAWzB,EAAEyB,YACd5B,EAAGG,GAAK,CAACA,EAAGH,IAEjB,IAAI2E,EAAQ3E,EACR4E,EAAIzE,EACJ0E,EAAQtD,EAAMI,KACdmD,EAAIvD,EAAMoC,IAEd,KAAOiB,EAAEhD,UAAY8C,EAAI,GAAG,CACxB,MAAMK,EAAYJ,EACZK,EAAYH,EAIlB,GAHAF,EAAQC,EACRC,EAAQC,EAEJH,EAAM9C,SAEN,OAAO,KAEX+C,EAAIG,EACJ,IAAIE,EAAI1D,EAAMI,KACd,MAAMuD,EAAyBP,EAAM7C,eAAe6C,EAAM/C,UACpDuD,EAAa5D,EAAMqC,QAAQsB,GACjC,KAAON,EAAEhD,UAAY+C,EAAM/C,WAAagD,EAAE/C,UAAU,CAChD,MAAMuD,EAAaR,EAAEhD,SAAW+C,EAAM/C,SAChCyD,EAAQ9D,EAAMe,SAASsC,EAAE9C,eAAe8C,EAAEhD,UAAWuD,GAC3DF,EAAIA,EAAElD,cAAcR,EAAMsC,cAAcuB,EAAYC,IACpDT,EAAIA,EAAE7C,cAAc4C,EAAM3B,mBAAmBoC,EAAYC,GAC7D,CAEA,GADAP,EAAIG,EAAExC,aAAaoC,GAAO9C,cAAciD,GACpCJ,EAAEhD,UAAY+C,EAAM/C,SACpB,OAAO,IAEf,CACA,MAAM0D,EAAmBR,EAAEhD,eAAe,GAC1C,GAAyB,IAArBwD,EACA,OAAO,KAEX,MAAM1B,EAAUrC,EAAMqC,QAAQ0B,GAC9B,MAAO,CAACR,EAAExC,SAASsB,GAAUgB,EAAEtC,SAASsB,GAC5C,CAyDuB2B,CAAsBhE,EAAOA,EAAMsC,cAAcI,EAAM,GAAIO,EAAUP,GACxF,GAAmB,OAAfQ,EACA,OAAO,KAEX,MAAMe,EA5DV,SAA4BjE,EAAOkE,GAE/B,MAAMC,EAAYD,EAAa7D,SAC/B,GAAkB,IAAd8D,EACA,MAAO,CAACD,EAAa3D,eAAe,IAExC,MAAM3C,EAAS,IAAIsE,MAAMiC,GACzB,IAAIC,EAAa,EACjB,IAAK,IAAIjF,EAAI,EAAGA,EAAIa,EAAM3B,MAAQ+F,EAAaD,EAAWhF,IACnB,IAA/B+E,EAAavC,WAAWxC,KACxBvB,EAAOwG,GAAcpE,EAAMqC,QAAQlD,GACnCiF,KAGR,OAAIA,IAAeD,EACR,KAEJvG,CACX,CA0C2ByG,CAAmBrE,EAAOkD,EAAW,IAC5D,GAAsB,MAAlBe,EACA,OAAO,KAEX,MAAMK,EA7CV,SAA6BtE,EAAOuE,EAAgBN,GAEhD,MAAMlB,EAAIkB,EAAelI,OACnB6B,EAAS,IAAIsE,MAAMa,GACzB,IAAK,IAAI5D,EAAI,EAAGA,EAAI4D,EAAG5D,IAAK,CACxB,MAAMqF,EAAYxE,EAAMqC,QAAQ4B,EAAe9E,IAC/C,IAAIsF,EAAc,EAClB,IAAK,IAAIjD,EAAI,EAAGA,EAAIuB,EAAGvB,IACfrC,IAAMqC,IACNiD,EAAczE,EAAMe,SAAS0D,EAAa3D,EAAgB,EAAGd,EAAMe,SAASkD,EAAezC,GAAIgD,MAGvG5G,EAAOuB,GAAKa,EAAMe,SAASwD,EAAe5C,WAAW6C,GAAYxE,EAAMqC,QAAQoC,IACnD,IAAxBzE,EAAMgC,gBACNpE,EAAOuB,GAAKa,EAAMe,SAASnD,EAAOuB,GAAIqF,GAE9C,CACA,OAAO5G,CACX,CA2B4B8G,CAAoB1E,EAAOkD,EAAW,GAAIe,GAClE,IAAK,IAAI9E,EAAI,EAAGA,EAAI8E,EAAelI,OAAQoD,IAAK,CAC5C,MAAMwF,EAAWhC,EAAY5G,OAAS,EAAIiE,EAAMuC,IAAI0B,EAAe9E,IACnE,GAAIwF,EAAW,EACX,OAAO,KAEXhC,EAAYgC,GAAY7D,EAAgB6B,EAAYgC,GAAWL,EAAgBnF,GACnF,CACA,OAAOwD,CACX,CAEA,MAAMiC,EAAW,CACb,CACIC,SAAU,KACVC,cAAe,EACfC,wBAAyB,GACzBC,sBAAuB,CACnB,CACIC,oBAAqB,EACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,OAI9D,CACIP,SAAU,KACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,IAC7BC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,QAI9D,CACIP,SAAU,KACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,IAC7BC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,QAI9D,CACIP,SAAU,KACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,IAC7BC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,OAI9D,CACIP,SAAU,KACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,IAC7BC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,OAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,KACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,IAC7BC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,QAI9D,CACIP,SAAU,MACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,EACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,OAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,MAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,IACjCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,EAAGC,sBAAuB,OAEtD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,IACrCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,GAAIC,sBAAuB,MAEvD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,GAAIC,sBAAuB,MAEvD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,GAAIC,sBAAuB,QAI/D,CACIP,SAAU,MACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,KACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,KACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,KACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,KACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,KACzCC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,KAC7CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,GAAIC,sBAAuB,OAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,GAAIC,sBAAuB,OAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CAAC,CAAEC,UAAW,GAAIC,sBAAuB,OAEvD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAC9CC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,QAKvD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,GAAIC,sBAAuB,OAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,IACvC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,EAAGC,sBAAuB,KACvC,CAAED,UAAW,GAAIC,sBAAuB,OAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,EAAGC,sBAAuB,MAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,QAKxD,CACIP,SAAU,OACVC,cAAe,GACfC,wBAAyB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KACnDC,sBAAuB,CACnB,CACIC,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,KACxC,CAAED,UAAW,EAAGC,sBAAuB,OAG/C,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,MAGhD,CACIH,oBAAqB,GACrBC,SAAU,CACN,CAAEC,UAAW,GAAIC,sBAAuB,IACxC,CAAED,UAAW,GAAIC,sBAAuB,SAQ5D,SAASC,EAAiBlJ,EAAGC,GACzB,IAAIkJ,EAAInJ,EAAIC,EACRmJ,EAAW,EACf,KAAOD,GACHC,IACAD,GAAKA,EAAI,EAEb,OAAOC,CACX,CACA,SAASC,EAAQC,EAAKC,GAClB,OAAQA,GAAQ,EAAKD,CACzB,CAEA,MAAME,EAAoB,CACtB,CAAEC,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,IAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,KAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,IACjE,CAAEH,KAAM,MAAQC,WAAY,CAAEC,qBAAsB,EAAGC,SAAU,KAE/DC,EAAa,CACdC,IAAQA,EAAE7J,EAAI6J,EAAE9J,GAAK,GAAO,EAC5B8J,GAAOA,EAAE7J,EAAI,GAAO,EACpB6J,GAAMA,EAAE9J,EAAI,GAAM,EAClB8J,IAAOA,EAAE7J,EAAI6J,EAAE9J,GAAK,GAAM,EAC1B8J,IAAOvH,KAAKC,MAAMsH,EAAE7J,EAAI,GAAKsC,KAAKC,MAAMsH,EAAE9J,EAAI,IAAM,GAAM,EAC1D8J,GAAQA,EAAE9J,EAAI8J,EAAE7J,EAAK,EAAO6J,EAAE9J,EAAI8J,EAAE7J,EAAK,GAAO,EAChD6J,IAAUA,EAAE7J,EAAI6J,EAAE9J,EAAK,EAAM8J,EAAE7J,EAAI6J,EAAE9J,EAAK,GAAK,GAAO,EACtD8J,KAAUA,EAAE7J,EAAI6J,EAAE9J,GAAK,EAAM8J,EAAE7J,EAAI6J,EAAE9J,EAAK,GAAK,GAAO,GA0L3D,SAAS+J,EAAaC,GAClB,MAAMC,EA/HV,SAAqBD,GACjB,MAAME,EAAYF,EAAOrK,OACnBwK,EAAqB5H,KAAKC,OAAO0H,EAAY,IAAM,GACzD,GAAIC,GAAsB,EACtB,OAAO1B,EAAS0B,EAAqB,GAEzC,IAAIC,EAAsB,EAC1B,IAAK,IAAInK,EAAI,EAAGA,GAAK,EAAGA,IACpB,IAAK,IAAID,EAAIkK,EAAY,EAAGlK,GAAKkK,EAAY,GAAIlK,IAC7CoK,EAAsBf,EAAQW,EAAOjK,IAAIC,EAAGC,GAAImK,GAGxD,IAAIC,EAAwB,EAC5B,IAAK,IAAIrK,EAAI,EAAGA,GAAK,EAAGA,IACpB,IAAK,IAAIC,EAAIiK,EAAY,EAAGjK,GAAKiK,EAAY,GAAIjK,IAC7CoK,EAAwBhB,EAAQW,EAAOjK,IAAIC,EAAGC,GAAIoK,GAG1D,IACIC,EADAC,EAAiBC,IAErB,IAAK,MAAMP,KAAWxB,EAAU,CAC5B,GAAIwB,EAAQvB,WAAa0B,GAAuBH,EAAQvB,WAAa2B,EACjE,OAAOJ,EAEX,IAAIQ,EAAavB,EAAiBkB,EAAqBH,EAAQvB,UAC3D+B,EAAaF,IACbD,EAAcL,EACdM,EAAiBE,GAErBA,EAAavB,EAAiBmB,EAAuBJ,EAAQvB,UACzD+B,EAAaF,IACbD,EAAcL,EACdM,EAAiBE,EAEzB,CAGA,OAAIF,GAAkB,EACXD,OADX,CAGJ,CAuFoBI,CAAYV,GAC5B,IAAKC,EACD,OAAO,KAEX,MAAMP,EA1FV,SAA+BM,GAC3B,IAAIW,EAAwB,EAC5B,IAAK,IAAI3K,EAAI,EAAGA,GAAK,EAAGA,IACV,IAANA,IACA2K,EAAwBtB,EAAQW,EAAOjK,IAAIC,EAAG,GAAI2K,IAG1D,IAAK,IAAI1K,EAAI,EAAGA,GAAK,EAAGA,IACV,IAANA,IACA0K,EAAwBtB,EAAQW,EAAOjK,IAAI,EAAGE,GAAI0K,IAG1D,MAAMT,EAAYF,EAAOrK,OACzB,IAAIiL,EAAoC,EACxC,IAAK,IAAI3K,EAAIiK,EAAY,EAAGjK,GAAKiK,EAAY,EAAGjK,IAC5C2K,EAAoCvB,EAAQW,EAAOjK,IAAI,EAAGE,GAAI2K,GAElE,IAAK,IAAI5K,EAAIkK,EAAY,EAAGlK,EAAIkK,EAAWlK,IACvC4K,EAAoCvB,EAAQW,EAAOjK,IAAIC,EAAG,GAAI4K,GAElE,IAAIL,EAAiBC,IACjBK,EAAiB,KACrB,IAAK,MAAM,KAAEpB,EAAI,WAAEC,KAAgBF,EAAmB,CAClD,GAAIC,IAASkB,GAAyBlB,IAASmB,EAC3C,OAAOlB,EAEX,IAAIe,EAAavB,EAAiByB,EAAuBlB,GACrDgB,EAAaF,IACbM,EAAiBnB,EACjBa,EAAiBE,GAEjBE,IAA0BC,IAC1BH,EAAavB,EAAiB0B,EAAmCnB,GAC7DgB,EAAaF,IACbM,EAAiBnB,EACjBa,EAAiBE,GAG7B,CAEA,OAAIF,GAAkB,EACXM,EAEJ,IACX,CA8CuBC,CAAsBd,GACzC,IAAKN,EACD,OAAO,KAEX,MACMqB,EAlDV,SAAuBC,EAAWf,EAASgB,GACvC,MAAMC,EAASjB,EAAQpB,sBAAsBoC,GACvCF,EAAa,GACnB,IAAII,EAAiB,EAUrB,GATAD,EAAOnC,SAAStD,SAAQ2F,IACpB,IAAK,IAAIpI,EAAI,EAAGA,EAAIoI,EAAMpC,UAAWhG,IACjC+H,EAAWpI,KAAK,CAAE0I,iBAAkBD,EAAMnC,sBAAuB+B,UAAW,KAC5EG,GAAkBC,EAAMnC,sBAAwBiC,EAAOpC,mBAC3D,IAKAkC,EAAUpL,OAASuL,EACnB,OAAO,KAEXH,EAAYA,EAAUM,MAAM,EAAGH,GAC/B,MAAMI,EAAiBL,EAAOnC,SAAS,GAAGE,sBAE1C,IAAK,IAAIjG,EAAI,EAAGA,EAAIuI,EAAgBvI,IAChC,IAAK,MAAMwI,KAAaT,EACpBS,EAAUR,UAAUrI,KAAKqI,EAAUS,SAI3C,GAAIP,EAAOnC,SAASnJ,OAAS,EAAG,CAC5B,MAAM8L,EAAkBR,EAAOnC,SAAS,GAAGC,UACrC2C,EAAkBT,EAAOnC,SAAS,GAAGC,UAC3C,IAAK,IAAIhG,EAAI,EAAGA,EAAI2I,EAAiB3I,IACjC+H,EAAWW,EAAkB1I,GAAGgI,UAAUrI,KAAKqI,EAAUS,QAEjE,CAEA,KAAOT,EAAUpL,OAAS,GACtB,IAAK,MAAM4L,KAAaT,EACpBS,EAAUR,UAAUrI,KAAKqI,EAAUS,SAG3C,OAAOV,CACX,CAWuBa,CA5KvB,SAAuB5B,EAAQC,EAASP,GACpC,MAAME,EAAWC,EAAWH,EAAWE,UACjCM,EAAYF,EAAOrK,OACnBkM,EAzBV,SAAkC5B,GAC9B,MAAMC,EAAY,GAAK,EAAID,EAAQtB,cAC7BqB,EAAS1K,EAAUO,YAAYqK,EAAWA,GAChDF,EAAO5J,UAAU,EAAG,EAAG,EAAG,GAAG,GAC7B4J,EAAO5J,UAAU8J,EAAY,EAAG,EAAG,EAAG,GAAG,GACzCF,EAAO5J,UAAU,EAAG8J,EAAY,EAAG,EAAG,GAAG,GAEzC,IAAK,MAAMlK,KAAKiK,EAAQrB,wBACpB,IAAK,MAAM3I,KAAKgK,EAAQrB,wBACR,IAAN5I,GAAiB,IAANC,GAAiB,IAAND,GAAWC,IAAMiK,EAAY,GAAKlK,IAAMkK,EAAY,GAAW,IAANjK,GACjF+J,EAAO5J,UAAUJ,EAAI,EAAGC,EAAI,EAAG,EAAG,GAAG,GAUjD,OANA+J,EAAO5J,UAAU,EAAG,EAAG,EAAG8J,EAAY,IAAI,GAC1CF,EAAO5J,UAAU,EAAG,EAAG8J,EAAY,GAAI,GAAG,GACtCD,EAAQtB,cAAgB,IACxBqB,EAAO5J,UAAU8J,EAAY,GAAI,EAAG,EAAG,GAAG,GAC1CF,EAAO5J,UAAU,EAAG8J,EAAY,GAAI,EAAG,GAAG,IAEvCF,CACX,CAIgC8B,CAAyB7B,GAC/Ce,EAAY,GAClB,IAAIe,EAAc,EACdC,EAAW,EAEXC,GAAY,EAChB,IAAK,IAAIC,EAAchC,EAAY,EAAGgC,EAAc,EAAGA,GAAe,EAAG,CACjD,IAAhBA,GACAA,IAEJ,IAAK,IAAIlJ,EAAI,EAAGA,EAAIkH,EAAWlH,IAAK,CAChC,MAAM/C,EAAIgM,EAAY/B,EAAY,EAAIlH,EAAIA,EAC1C,IAAK,IAAImJ,EAAe,EAAGA,EAAe,EAAGA,IAAgB,CACzD,MAAMnM,EAAIkM,EAAcC,EACxB,IAAKN,EAAoB9L,IAAIC,EAAGC,GAAI,CAChC+L,IACA,IAAI1C,EAAMU,EAAOjK,IAAIC,EAAGC,GACpB2J,EAAS,CAAE3J,IAAGD,QACdsJ,GAAOA,GAEXyC,EAAc1C,EAAQC,EAAKyC,GACV,IAAbC,IACAhB,EAAUrI,KAAKoJ,GACfC,EAAW,EACXD,EAAc,EAEtB,CACJ,CACJ,CACAE,GAAaA,CACjB,CACA,OAAOjB,CACX,CAwIsBoB,CAAcpC,EAAQC,EAASP,GACLO,EAASP,EAAWC,sBAChE,IAAKoB,EACD,OAAO,KAGX,MAAMsB,EAAatB,EAAWuB,QAAO,CAAChK,EAAGG,IAAMH,EAAIG,EAAE4I,kBAAkB,GACjEkB,EAAc,IAAIzM,kBAAkBuM,GAC1C,IAAIG,EAAc,EAClB,IAAK,MAAMhB,KAAaT,EAAY,CAChC,MAAM0B,EAAiBnG,EAASkF,EAAUR,UAAWQ,EAAUR,UAAUpL,OAAS4L,EAAUH,kBAC5F,IAAKoB,EACD,OAAO,KAEX,IAAK,IAAIzJ,EAAI,EAAGA,EAAIwI,EAAUH,iBAAkBrI,IAC5CuJ,EAAYC,KAAiBC,EAAezJ,EAEpD,CACA,IACI,OAp7DR,SAAkBxD,EAAMyK,GACpB,MAAMhI,EAAS,IAAIhB,EAAUzB,GAEvB0C,EAAO+H,GAAW,EAAI,EAAIA,GAAW,GAAK,EAAI,EAC9CxI,EAAS,CACXU,KAAM,GACNjB,MAAO,GACPwL,OAAQ,GACRzC,WAEJ,KAAOhI,EAAOV,aAAe,GAAG,CAC5B,MAAMoL,EAAO1K,EAAOZ,SAAS,GAC7B,GAAIsL,IAAS5K,EAAS6K,WAClB,OAAOnL,EAEN,GAAIkL,IAAS5K,EAAS8K,IACI,IAAvB5K,EAAOZ,SAAS,GAChBI,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAK+K,IACXE,iBAAkB9K,EAAOZ,SAAS,KAGV,IAAvBY,EAAOZ,SAAS,GACrBI,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAK+K,IACXE,iBAAkB9K,EAAOZ,SAAS,MAGV,IAAvBY,EAAOZ,SAAS,GACrBI,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAK+K,IACXE,iBAAkB9K,EAAOZ,SAAS,MAKtCI,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAK+K,IACXE,kBAAmB,SAI1B,GAAIJ,IAAS5K,EAASiL,QAAS,CAChC,MAAMC,EAAgBjL,EAAcC,EAAQC,GAC5CT,EAAOU,MAAQ8K,EAAc9K,KAC7BV,EAAOP,MAAMyB,QAAQsK,EAAc/L,OACnCO,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAKkL,QACX7K,KAAM8K,EAAc9K,MAE5B,MACK,GAAIwK,IAAS5K,EAASmL,aAAc,CACrC,MAAMC,EAAqBtK,EAAmBZ,EAAQC,GACtDT,EAAOU,MAAQgL,EAAmBhL,KAClCV,EAAOP,MAAMyB,QAAQwK,EAAmBjM,OACxCO,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAKoL,aACX/K,KAAMgL,EAAmBhL,MAEjC,MACK,GAAIwK,IAAS5K,EAASqL,KAAM,CAC7B,MAAMC,EAAatK,EAAWd,EAAQC,GACtCT,EAAOU,MAAQkL,EAAWlL,KAC1BV,EAAOP,MAAMyB,QAAQ0K,EAAWnM,OAChCO,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAKsL,KACXlM,MAAOmM,EAAWnM,MAClBiB,KAAMkL,EAAWlL,MAEzB,MACK,GAAIwK,IAAS5K,EAASuL,MAAO,CAC9B,MAAMC,EAAcjK,EAAYrB,EAAQC,GACxCT,EAAOU,MAAQoL,EAAYpL,KAC3BV,EAAOP,MAAMyB,QAAQ4K,EAAYrM,OACjCO,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAKwL,MACXpM,MAAOqM,EAAYrM,MACnBiB,KAAMoL,EAAYpL,MAE1B,MACSwK,IAAS5K,EAASyL,kBACvB/L,EAAOiL,OAAO/J,KAAK,CACfmK,KAAMhL,EAAK0L,iBACXC,gBAAiBxL,EAAOZ,SAAS,GACjCqM,cAAezL,EAAOZ,SAAS,GAC/BsM,OAAQ1L,EAAOZ,SAAS,IAGpC,CAEA,GAA2B,IAAvBY,EAAOV,aAA6D,IAAxCU,EAAOZ,SAASY,EAAOV,aACnD,OAAOE,CAEf,CAu1DemM,CAASrB,EAAatC,EAAQtB,cACzC,CACA,MAAOtF,GACH,OAAO,IACX,CACJ,CACA,SAASI,EAAOuG,GACZ,GAAc,MAAVA,EACA,OAAO,KAEX,MAAMvI,EAASsI,EAAaC,GAC5B,GAAIvI,EACA,OAAOA,EAGX,IAAK,IAAIzB,EAAI,EAAGA,EAAIgK,EAAOvK,MAAOO,IAC9B,IAAK,IAAIC,EAAID,EAAI,EAAGC,EAAI+J,EAAOrK,OAAQM,IAC/B+J,EAAOjK,IAAIC,EAAGC,KAAO+J,EAAOjK,IAAIE,EAAGD,KACnCgK,EAAO9J,IAAIF,EAAGC,GAAI+J,EAAOjK,IAAIC,EAAGC,IAChC+J,EAAO9J,IAAID,EAAGD,GAAIgK,EAAOjK,IAAIE,EAAGD,KAI5C,OAAO+J,EAAaC,EACxB,CAEA,SAAS6D,EAAsBC,EAAIC,EAAIC,EAAIC,GACvC,MAAMC,EAAMJ,EAAG9N,EAAI+N,EAAG/N,EAAIgO,EAAGhO,EAAIiO,EAAGjO,EAC9BmO,EAAML,EAAG7N,EAAI8N,EAAG9N,EAAI+N,EAAG/N,EAAIgO,EAAGhO,EACpC,GAAY,IAARiO,GAAqB,IAARC,EACb,MAAO,CACHC,IAAKL,EAAG/N,EAAI8N,EAAG9N,EACfqO,IAAKN,EAAG9N,EAAI6N,EAAG7N,EACfqO,IAAK,EACLC,IAAKP,EAAGhO,EAAI+N,EAAG/N,EACfwO,IAAKR,EAAG/N,EAAI8N,EAAG9N,EACfwO,IAAK,EACLC,IAAKZ,EAAG9N,EACR2O,IAAKb,EAAG7N,EACR2O,IAAK,GAGR,CACD,MAAMC,EAAMd,EAAG/N,EAAIgO,EAAGhO,EAChB8O,EAAMb,EAAGjO,EAAIgO,EAAGhO,EAChB+O,EAAMhB,EAAG9N,EAAI+N,EAAG/N,EAChB+O,EAAMf,EAAGhO,EAAI+N,EAAG/N,EAChBqI,EAAcuG,EAAMG,EAAMF,EAAMC,EAChCT,GAAOJ,EAAMc,EAAMF,EAAMX,GAAO7F,EAChCmG,GAAOI,EAAMV,EAAMD,EAAMa,GAAOzG,EACtC,MAAO,CACH8F,IAAKL,EAAG/N,EAAI8N,EAAG9N,EAAIsO,EAAMP,EAAG/N,EAC5BqO,IAAKN,EAAG9N,EAAI6N,EAAG7N,EAAIqO,EAAMP,EAAG9N,EAC5BqO,MACAC,IAAKN,EAAGjO,EAAI8N,EAAG9N,EAAIyO,EAAMR,EAAGjO,EAC5BwO,IAAKP,EAAGhO,EAAI6N,EAAG7N,EAAIwO,EAAMR,EAAGhO,EAC5BwO,MACAC,IAAKZ,EAAG9N,EACR2O,IAAKb,EAAG7N,EACR2O,IAAK,EAEb,CACJ,CA6BA,SAASK,EAAQC,EAAOC,GACpB,MAAMC,EA7BV,SAA+BtB,EAAIC,EAAIC,EAAIC,GAEvC,MAAMoB,EAAOxB,EA2BsB,CAAE7N,EAAG,IAAKC,EAAG,KA3BT8N,EAAIC,EAAIC,GAC/C,MAAO,CACHG,IAAKiB,EAAKb,IAAMa,EAAKT,IAAMS,EAAKZ,IAAMY,EAAKV,IAC3CN,IAAKgB,EAAKf,IAAMe,EAAKV,IAAMU,EAAKhB,IAAMgB,EAAKT,IAC3CN,IAAKe,EAAKhB,IAAMgB,EAAKZ,IAAMY,EAAKf,IAAMe,EAAKb,IAC3CD,IAAKc,EAAKZ,IAAMY,EAAKX,IAAMW,EAAKd,IAAMc,EAAKT,IAC3CJ,IAAKa,EAAKjB,IAAMiB,EAAKT,IAAMS,EAAKf,IAAMe,EAAKX,IAC3CD,IAAKY,EAAKf,IAAMe,EAAKd,IAAMc,EAAKjB,IAAMiB,EAAKZ,IAC3CC,IAAKW,EAAKd,IAAMc,EAAKV,IAAMU,EAAKb,IAAMa,EAAKX,IAC3CC,IAAKU,EAAKhB,IAAMgB,EAAKX,IAAMW,EAAKjB,IAAMiB,EAAKV,IAC3CC,IAAKS,EAAKjB,IAAMiB,EAAKb,IAAMa,EAAKhB,IAAMgB,EAAKd,IAEnD,CAeiBe,CAAsB,EAAoB,CAAEtP,EAAGmP,EAASjF,UAAY,IAAKjK,EAAG,KAAO,CAAED,EAAGmP,EAASjF,UAAY,IAAKjK,EAAGkP,EAASjF,UAAY,KAAO,CAAElK,EAAG,IAAKC,EAAGkP,EAASjF,UAAY,MAE1LqF,GAhBQ9M,EAgBgB2M,EAfvB,CACHhB,KAFO9L,EAeEuL,EAAsBsB,EAASK,QAASL,EAASM,SAAUN,EAASO,iBAAkBP,EAASQ,aAbjGvB,IAAM3L,EAAE2L,IAAM9L,EAAEiM,IAAM9L,EAAE4L,IAAM/L,EAAEoM,IAAMjM,EAAE6L,IAC/CD,IAAK/L,EAAE+L,IAAM5L,EAAE2L,IAAM9L,EAAEkM,IAAM/L,EAAE4L,IAAM/L,EAAEqM,IAAMlM,EAAE6L,IAC/CA,IAAKhM,EAAEgM,IAAM7L,EAAE2L,IAAM9L,EAAEmM,IAAMhM,EAAE4L,IAAM/L,EAAEsM,IAAMnM,EAAE6L,IAC/CC,IAAKjM,EAAE8L,IAAM3L,EAAE8L,IAAMjM,EAAEiM,IAAM9L,EAAE+L,IAAMlM,EAAEoM,IAAMjM,EAAEgM,IAC/CD,IAAKlM,EAAE+L,IAAM5L,EAAE8L,IAAMjM,EAAEkM,IAAM/L,EAAE+L,IAAMlM,EAAEqM,IAAMlM,EAAEgM,IAC/CA,IAAKnM,EAAEgM,IAAM7L,EAAE8L,IAAMjM,EAAEmM,IAAMhM,EAAE+L,IAAMlM,EAAEsM,IAAMnM,EAAEgM,IAC/CC,IAAKpM,EAAE8L,IAAM3L,EAAEiM,IAAMpM,EAAEiM,IAAM9L,EAAEkM,IAAMrM,EAAEoM,IAAMjM,EAAEmM,IAC/CD,IAAKrM,EAAE+L,IAAM5L,EAAEiM,IAAMpM,EAAEkM,IAAM/L,EAAEkM,IAAMrM,EAAEqM,IAAMlM,EAAEmM,IAC/CA,IAAKtM,EAAEgM,IAAM7L,EAAEiM,IAAMpM,EAAEmM,IAAMhM,EAAEkM,IAAMrM,EAAEsM,IAAMnM,EAAEmM,MAVvD,IAAetM,EAAGG,EAiBd,MAAMuH,EAAS1K,EAAUO,YAAYsP,EAASjF,UAAWiF,EAASjF,WAC5D0F,EAAkB,CAAC5P,EAAGC,KACxB,MAAMqI,EAAciH,EAAUjB,IAAMtO,EAAIuP,EAAUd,IAAMxO,EAAIsP,EAAUX,IACtE,MAAO,CACH5O,GAAIuP,EAAUnB,IAAMpO,EAAIuP,EAAUhB,IAAMtO,EAAIsP,EAAUb,KAAOpG,EAC7DrI,GAAIsP,EAAUlB,IAAMrO,EAAIuP,EAAUf,IAAMvO,EAAIsP,EAAUZ,KAAOrG,EAChE,EAEL,IAAK,IAAIrI,EAAI,EAAGA,EAAIkP,EAASjF,UAAWjK,IACpC,IAAK,IAAID,EAAI,EAAGA,EAAImP,EAASjF,UAAWlK,IAAK,CACzC,MAEM6P,EAAcD,EAFL5P,EAAI,GACJC,EAAI,IAEnB+J,EAAO9J,IAAIF,EAAGC,EAAGiP,EAAMnP,IAAIwC,KAAKC,MAAMqN,EAAY7P,GAAIuC,KAAKC,MAAMqN,EAAY5P,IACjF,CAEJ,MAAO,CACH+J,SACA4F,kBAER,CAEA,MAAME,EAA+B,EAC/BC,EAAiB,GACjBC,EAAiB,IACjBC,EAAW,CAAC3N,EAAGG,IAAMF,KAAK2N,KAAK3N,KAAK4N,IAAK1N,EAAEzC,EAAIsC,EAAEtC,EAAI,GAAKuC,KAAK4N,IAAK1N,EAAExC,EAAIqC,EAAErC,EAAI,IACtF,SAASmQ,EAAIC,GACT,OAAOA,EAAO/D,QAAO,CAAChK,EAAGG,IAAMH,EAAIG,GACvC,CAqDA,SAAS6N,EAA+BC,EAAQC,EAAKxG,EAAQpK,GACzD,MAAM6Q,EAAe,CAAC,CAAEzQ,EAAGuC,KAAKC,MAAM+N,EAAOvQ,GAAIC,EAAGsC,KAAKC,MAAM+N,EAAOtQ,KAChEyQ,EAAQnO,KAAKoO,IAAIH,EAAIvQ,EAAIsQ,EAAOtQ,GAAKsC,KAAKoO,IAAIH,EAAIxQ,EAAIuQ,EAAOvQ,GACnE,IAAI4Q,EACAC,EACAC,EACAC,EACAL,GACAE,EAAQrO,KAAKC,MAAM+N,EAAOtQ,GAC1B4Q,EAAQtO,KAAKC,MAAM+N,EAAOvQ,GAC1B8Q,EAAMvO,KAAKC,MAAMgO,EAAIvQ,GACrB8Q,EAAMxO,KAAKC,MAAMgO,EAAIxQ,KAGrB4Q,EAAQrO,KAAKC,MAAM+N,EAAOvQ,GAC1B6Q,EAAQtO,KAAKC,MAAM+N,EAAOtQ,GAC1B6Q,EAAMvO,KAAKC,MAAMgO,EAAIxQ,GACrB+Q,EAAMxO,KAAKC,MAAMgO,EAAIvQ,IAEzB,MAAM+Q,EAAKzO,KAAKoO,IAAIG,EAAMF,GACpBK,EAAK1O,KAAKoO,IAAII,EAAMF,GAC1B,IAAIlK,EAAQpE,KAAKC,OAAOwO,EAAK,GAC7B,MAAME,EAAQN,EAAQE,EAAM,GAAK,EAC3BK,EAAQN,EAAQE,EAAM,GAAK,EACjC,IAAIK,GAAe,EAEnB,IAAK,IAAIpR,EAAI4Q,EAAO3Q,EAAI4Q,EAAO7Q,IAAM8Q,EAAMI,EAAOlR,GAAKkR,EAAO,CAI1D,MAAMG,EAAQX,EAAQzQ,EAAID,EACpBsR,EAAQZ,EAAQ1Q,EAAIC,EAC1B,GAAI+J,EAAOjK,IAAIsR,EAAOC,KAAWF,IAC7BA,GAAgBA,EAChBX,EAAa9N,KAAK,CAAE3C,EAAGqR,EAAOpR,EAAGqR,IAC7Bb,EAAa7Q,SAAWA,EAAS,GACjC,MAIR,GADA+G,GAASsK,EACLtK,EAAQ,EAAG,CACX,GAAI1G,IAAM8Q,EACN,MAEJ9Q,GAAKkR,EACLxK,GAASqK,CACb,CACJ,CACA,MAAMO,EAAY,GAClB,IAAK,IAAIvO,EAAI,EAAGA,EAAIpD,EAAQoD,IACpByN,EAAazN,IAAMyN,EAAazN,EAAI,GACpCuO,EAAU5O,KAAKsN,EAASQ,EAAazN,GAAIyN,EAAazN,EAAI,KAG1DuO,EAAU5O,KAAK,GAGvB,OAAO4O,CACX,CAIA,SAASC,EAAmBjB,EAAQC,EAAKxG,EAAQpK,GAC7C,MAAM6R,EAAOjB,EAAIvQ,EAAIsQ,EAAOtQ,EACtByR,EAAMlB,EAAIxQ,EAAIuQ,EAAOvQ,EACrB2R,EAAarB,EAA+BC,EAAQC,EAAKxG,EAAQzH,KAAKqP,KAAKhS,EAAS,IACpFiS,EAAcvB,EAA+BC,EAAQ,CAAEvQ,EAAGuQ,EAAOvQ,EAAI0R,EAAKzR,EAAGsQ,EAAOtQ,EAAIwR,GAAQzH,EAAQzH,KAAKqP,KAAKhS,EAAS,IAC3HkS,EAAcH,EAAWlG,QAAUoG,EAAYpG,QAAU,EAC/D,OAAOoG,EAAYE,OAAOD,GAAaC,UAAUJ,EACrD,CAGA,SAASK,EAAmBC,EAAUC,GAClC,MAAMC,EAAc/B,EAAI6B,GAAY7B,EAAI8B,GACxC,IAAIvL,EAAQ,EAIZ,OAHAuL,EAAOzM,SAAQ,CAAC2M,EAAOpP,KACnB2D,GAASpE,KAAK4N,IAAK8B,EAASjP,GAAKoP,EAAQD,EAAc,EAAE,IAEtD,CAAEA,cAAaxL,QAC1B,CAIA,SAAS0L,EAAaC,EAAOJ,EAAQlI,GACjC,IACI,MAAMuI,EAAgBf,EAAmBc,EAAO,CAAEtS,GAAI,EAAGC,EAAGqS,EAAMrS,GAAK+J,EAAQkI,EAAOtS,QAChF4S,EAAchB,EAAmBc,EAAO,CAAEtS,EAAGsS,EAAMtS,EAAGC,GAAI,GAAK+J,EAAQkI,EAAOtS,QAK9E6S,EAAwBjB,EAAmBc,EAJ5B,CACjBtS,EAAGuC,KAAK3B,IAAI,EAAG0R,EAAMtS,EAAIsS,EAAMrS,GAAK,EACpCA,EAAGsC,KAAK3B,IAAI,EAAG0R,EAAMrS,EAAIqS,EAAMtS,GAAK,GAE8BgK,EAAQkI,EAAOtS,QAK/E8S,EAAwBlB,EAAmBc,EAJzB,CACpBtS,EAAGuC,KAAK5B,IAAIqJ,EAAOvK,MAAO6S,EAAMtS,EAAIsS,EAAMrS,GAAK,EAC/CA,EAAGsC,KAAK5B,IAAIqJ,EAAOrK,OAAQ2S,EAAMrS,EAAIqS,EAAMtS,GAAK,GAEqBgK,EAAQkI,EAAOtS,QAClF+S,EAAYX,EAAmBO,EAAeL,GAC9CU,EAAYZ,EAAmBQ,EAAaN,GAC5CW,EAAgBb,EAAmBS,EAAuBP,GAC1DY,EAAcd,EAAmBU,EAAuBR,GACxDa,EAAaxQ,KAAK2N,KAAKyC,EAAUhM,MAAQgM,EAAUhM,MACrDiM,EAAUjM,MAAQiM,EAAUjM,MAC5BkM,EAAclM,MAAQkM,EAAclM,MACpCmM,EAAYnM,MAAQmM,EAAYnM,OAC9BqM,GAAWL,EAAUR,YAAcS,EAAUT,YAAcU,EAAcV,YAAcW,EAAYX,aAAe,EAKxH,OAAOY,GAJYxQ,KAAK4N,IAAKwC,EAAUR,YAAca,EAAU,GAC3DzQ,KAAK4N,IAAKyC,EAAUT,YAAca,EAAU,GAC5CzQ,KAAK4N,IAAK0C,EAAcV,YAAca,EAAU,GAChDzQ,KAAK4N,IAAK2C,EAAYX,YAAca,EAAU,IAAMA,CAE5D,CACA,MAAO3P,GACH,OAAOmH,GACX,CACJ,CACA,SAASyI,EAAiBjJ,EAAQF,GAC9B,IAAIoJ,EAAQ3Q,KAAK4Q,MAAMrJ,EAAE9J,GACzB,KAAOgK,EAAOjK,IAAImT,EAAO3Q,KAAK4Q,MAAMrJ,EAAE7J,KAClCiT,IAEJ,IAAIE,EAAS7Q,KAAK4Q,MAAMrJ,EAAE9J,GAC1B,KAAOgK,EAAOjK,IAAIqT,EAAQ7Q,KAAK4Q,MAAMrJ,EAAE7J,KACnCmT,IAEJ,MAAMpT,GAAKkT,EAAQE,GAAU,EAC7B,IAAIC,EAAO9Q,KAAK4Q,MAAMrJ,EAAE7J,GACxB,KAAO+J,EAAOjK,IAAIwC,KAAK4Q,MAAMnT,GAAIqT,IAC7BA,IAEJ,IAAIC,EAAU/Q,KAAK4Q,MAAMrJ,EAAE7J,GAC3B,KAAO+J,EAAOjK,IAAIwC,KAAK4Q,MAAMnT,GAAIsT,IAC7BA,IAGJ,MAAO,CAAEtT,IAAGC,GADDoT,EAAOC,GAAW,EAEjC,CAkKA,SAASC,EAAqBvJ,EAAQwJ,EAAuB/D,EAAUD,EAASG,GAG5E,IAAIzF,EACAuJ,EACJ,MACOvJ,YAAWuJ,cAxUtB,SAA0BjE,EAASC,EAAUE,EAAY3F,GACrD,MAAMyJ,GAAcrD,EAAIoB,EAAmBhC,EAASG,EAAY3F,EAAQ,IAAM,EAC1EoG,EAAIoB,EAAmBhC,EAASC,EAAUzF,EAAQ,IAAM,EACxDoG,EAAIoB,EAAmB7B,EAAYH,EAASxF,EAAQ,IAAM,EAC1DoG,EAAIoB,EAAmB/B,EAAUD,EAASxF,EAAQ,IAAM,GAAK,EACjE,GAAIyJ,EAAa,EACb,MAAM,IAAIzS,MAAM,uBAEpB,MAAM0S,EAAenR,KAAK4Q,MAAMlD,EAAST,EAASC,GAAYgE,GACxDE,EAAgBpR,KAAK4Q,MAAMlD,EAAST,EAASG,GAAc8D,GACjE,IAAIvJ,EAAY3H,KAAKC,OAAOkR,EAAeC,GAAiB,GAAK,EACjE,OAAQzJ,EAAY,GAChB,KAAK,EACDA,IACA,MACJ,KAAK,EACDA,IAGR,MAAO,CAAEA,YAAWuJ,aACxB,CAoTqCG,CAAiBpE,EAASC,EAAUE,EAAY3F,GACjF,CACA,MAAO6J,GACH,OAAO,IACX,CAEA,MAAMC,EACCrE,EAASzP,EAAIwP,EAAQxP,EAAI2P,EAAW3P,EADrC8T,EAECrE,EAASxP,EAAIuP,EAAQvP,EAAI0P,EAAW1P,EAErC8T,GAAiC9D,EAAST,EAASG,GAAcM,EAAST,EAASC,IAAa,EAAIgE,EACpGO,EAAsB,EAAK,EAAID,EAC/BE,EAA2B,CAC7BjU,EAAGwP,EAAQxP,EAAIgU,GAAuBF,EAA6BtE,EAAQxP,GAC3EC,EAAGuP,EAAQvP,EAAI+T,GAAuBF,EAA6BtE,EAAQvP,IAEzEiU,EAAoBV,EACrBtQ,KAAIqE,IACL,MAAMvH,GAAKuH,EAAEjH,IAAI6T,OAAS5M,EAAEjH,IAAI8T,KAAO7M,EAAE8M,OAAOF,OAAS5M,EAAE8M,OAAOD,MAAQ,EACpEnU,GAAKsH,EAAEjH,IAAIL,EAAIsH,EAAE8M,OAAOpU,EAAI,GAAK,EACvC,GAAK+J,EAAOjK,IAAIwC,KAAKC,MAAMxC,GAAIuC,KAAKC,MAAMvC,IAK1C,MAAO,CAAED,IAAGC,IAAGqU,MAFGjC,EAAa,CAAErS,EAAGuC,KAAKC,MAAMxC,GAAIC,EAAGsC,KAAKC,MAAMvC,IAAM,CAAC,EAAG,EAAG,GAAI+J,GACxDiG,EAAS,CAAEjQ,IAAGC,KAAKgU,GACvB,IAErBM,QAAOpU,KAAOA,IACdqU,MAAK,CAAClS,EAAGG,IAAMH,EAAEgS,MAAQ7R,EAAE6R,QAIhC,MAAO,CAAE5E,iBADgBqE,GAAgC,IAAMG,EAAkBtU,OAASsU,EAAkB,GAAKD,EACtF/J,YAC/B,CAEA,SAASuK,EAAKzK,GACV,MAAM0K,EA3MV,SAAgB1K,GACZ,MAAM2K,EAAqB,GAC3B,IAAIC,EAA2B,GAC/B,MAAMpB,EAAwB,GAC9B,IAAIqB,EAA8B,GAClC,IAAK,IAAI5U,EAAI,EAAGA,GAAK+J,EAAOrK,OAAQM,IAAK,CACrC,IAAIL,EAAS,EACTkV,GAAU,EACVC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,GACzB,IAAK,IAAI/U,GAAK,EAAGA,GAAKgK,EAAOvK,MAAOO,IAAK,CACrC,MAAMG,EAAI6J,EAAOjK,IAAIC,EAAGC,GACxB,GAAIE,IAAM2U,EACNlV,QAEC,CACDmV,EAAQ,CAACA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAInV,GACjDA,EAAS,EACTkV,EAAU3U,EAEV,MAAM6U,EAAgC5E,EAAI2E,GAAS,EAC7CE,EAAqB1S,KAAKoO,IAAIoE,EAAM,GAAKC,GAAiCA,GAC5EzS,KAAKoO,IAAIoE,EAAM,GAAKC,GAAiCA,GACrDzS,KAAKoO,IAAIoE,EAAM,GAAK,EAAIC,GAAiC,EAAIA,GAC7DzS,KAAKoO,IAAIoE,EAAM,GAAKC,GAAiCA,GACrDzS,KAAKoO,IAAIoE,EAAM,GAAKC,GAAiCA,IACpD7U,EAEC+U,EAAmC9E,EAAI2E,EAAMzJ,OAAO,IAAM,EAC1D6J,EAAwB5S,KAAKoO,IAAIoE,EAAM,GAAKG,GAAoCA,GAClF3S,KAAKoO,IAAIoE,EAAM,GAAKG,GAAoCA,GACxD3S,KAAKoO,IAAIoE,EAAM,GAAKG,GAAoCA,GACxD/U,EACJ,GAAI8U,EAAoB,CAEpB,MAAMb,EAAOpU,EAAI+U,EAAM,GAAKA,EAAM,GAC5BZ,EAASC,EAAOW,EAAM,GACtBK,EAAO,CAAEjB,SAAQC,OAAMnU,KAGvBoV,EAAgBT,EAAyBL,QAAOhN,GAAM4M,GAAU5M,EAAE8M,OAAOF,QAAUA,GAAU5M,EAAE8M,OAAOD,MACvGA,GAAQ7M,EAAE8M,OAAOF,QAAUA,GAAU5M,EAAE8M,OAAOD,MAC9CD,GAAU5M,EAAE8M,OAAOF,QAAUC,GAAQ7M,EAAE8M,OAAOD,MAAUW,EAAM,IAAMxN,EAAE8M,OAAOD,KAAO7M,EAAE8M,OAAOF,QAAWnE,GACpG+E,EAAM,IAAMxN,EAAE8M,OAAOD,KAAO7M,EAAE8M,OAAOF,QAAWpE,IACrDsF,EAAczV,OAAS,EACvByV,EAAc,GAAGhB,OAASe,EAG1BR,EAAyBjS,KAAK,CAAErC,IAAK8U,EAAMf,OAAQe,GAE3D,CACA,GAAID,EAAuB,CAEvB,MAAMf,EAAOpU,EAAI+U,EAAM,GACjBZ,EAASC,EAAOW,EAAM,GACtBK,EAAO,CAAEjB,SAAQlU,IAAGmU,QAGpBiB,EAAgBR,EAA4BN,QAAOhN,GAAM4M,GAAU5M,EAAE8M,OAAOF,QAAUA,GAAU5M,EAAE8M,OAAOD,MAC1GA,GAAQ7M,EAAE8M,OAAOF,QAAUA,GAAU5M,EAAE8M,OAAOD,MAC9CD,GAAU5M,EAAE8M,OAAOF,QAAUC,GAAQ7M,EAAE8M,OAAOD,MAAUW,EAAM,IAAMxN,EAAE8M,OAAOD,KAAO7M,EAAE8M,OAAOF,QAAWnE,GACpG+E,EAAM,IAAMxN,EAAE8M,OAAOD,KAAO7M,EAAE8M,OAAOF,QAAWpE,IACrDsF,EAAczV,OAAS,EACvByV,EAAc,GAAGhB,OAASe,EAG1BP,EAA4BlS,KAAK,CAAErC,IAAK8U,EAAMf,OAAQe,GAE9D,CACJ,CACJ,CACAT,EAAmBhS,QAAQiS,EAAyBL,QAAOhN,GAAKA,EAAE8M,OAAOpU,IAAMA,GAAKsH,EAAE8M,OAAOpU,EAAIsH,EAAEjH,IAAIL,GAAK,KAC5G2U,EAA2BA,EAAyBL,QAAOhN,GAAKA,EAAE8M,OAAOpU,IAAMA,IAC/EuT,EAAsB7Q,QAAQkS,EAA4BN,QAAOhN,GAAKA,EAAE8M,OAAOpU,IAAMA,KACrF4U,EAA8BA,EAA4BN,QAAOhN,GAAKA,EAAE8M,OAAOpU,IAAMA,GACzF,CACA0U,EAAmBhS,QAAQiS,EAAyBL,QAAOhN,GAAKA,EAAE8M,OAAOpU,EAAIsH,EAAEjH,IAAIL,GAAK,KACxFuT,EAAsB7Q,QAAQkS,GAQ9B,MAAMS,EAA+B,GACrC,IAAK,MAAMC,KAAQZ,EAAoB,CACnC,GAAIY,EAAKlB,OAAOpU,EAAIsV,EAAKjV,IAAIL,EAAI,EAE7B,SAGJ,MAAMD,GAAKuV,EAAKjV,IAAI6T,OAASoB,EAAKjV,IAAI8T,KAAOmB,EAAKlB,OAAOF,OAASoB,EAAKlB,OAAOD,MAAQ,EAChFnU,GAAKsV,EAAKjV,IAAIL,EAAIsV,EAAKlB,OAAOpU,EAAI,GAAK,EAC7C,IAAK+J,EAAOjK,IAAIwC,KAAK4Q,MAAMnT,GAAIuC,KAAK4Q,MAAMlT,IACtC,SAEJ,MAAMuV,EAAU,CAACD,EAAKjV,IAAI8T,KAAOmB,EAAKjV,IAAI6T,OAAQoB,EAAKlB,OAAOD,KAAOmB,EAAKlB,OAAOF,OAAQoB,EAAKlB,OAAOpU,EAAIsV,EAAKjV,IAAIL,EAAI,GAChHiC,EAAOkO,EAAIoF,GAAWA,EAAQ5V,OAE9B0U,EAAQjC,EAAa,CAAErS,EAAGuC,KAAK4Q,MAAMnT,GAAIC,EAAGsC,KAAK4Q,MAAMlT,IAAM,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI+J,GACpFsL,EAA6B3S,KAAK,CAAE2R,QAAOtU,IAAGC,IAAGiC,QACrD,CACA,GAAIoT,EAA6B1V,OAAS,EAEtC,OAAO,KAEX0V,EAA6Bd,MAAK,CAAClS,EAAGG,IAAMH,EAAEgS,MAAQ7R,EAAE6R,QAExD,MAAMmB,EAAsB,GAC5B,IAAK,IAAIzS,EAAI,EAAGA,EAAIT,KAAK5B,IAAI2U,EAA6B1V,OAAQkQ,KAAiC9M,EAAG,CAClG,MAAMsP,EAAQgD,EAA6BtS,GACrC0S,EAAc,GACpB,IAAK,MAAMC,KAAcL,EACjBK,IAAerD,GAGnBoD,EAAY/S,KAAKiT,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGF,GAAa,CAAErB,MAAOqB,EAAWrB,MAAS/R,KAAK4N,IAAKwF,EAAWzT,KAAOoQ,EAAMpQ,KAAO,GAAMoQ,EAAMpQ,QAEpJwT,EAAYlB,MAAK,CAAClS,EAAGG,IAAMH,EAAEgS,MAAQ7R,EAAE6R,QACvCmB,EAAoB9S,KAAK,CACrBmT,OAAQ,CAACxD,EAAOoD,EAAY,GAAIA,EAAY,IAC5CpB,MAAOhC,EAAMgC,MAAQoB,EAAY,GAAGpB,MAAQoB,EAAY,GAAGpB,OAEnE,CACAmB,EAAoBjB,MAAK,CAAClS,EAAGG,IAAMH,EAAEgS,MAAQ7R,EAAE6R,QAC/C,MAAMyB,EAAyBN,EAAoB,IAC7C,SAAEhG,EAAQ,QAAED,EAAO,WAAEG,GA1T/B,SAA+BqG,EAAUC,EAAUC,GAE/C,MAAMC,EAAiBlG,EAAS+F,EAAUC,GACpCG,EAAmBnG,EAASgG,EAAUC,GACtCG,EAAmBpG,EAAS+F,EAAUE,GAC5C,IAAIvG,EACAH,EACAC,EAiBJ,OAdKE,EAAYH,EAASC,GADtB2G,GAAoBD,GAAkBC,GAAoBC,EACxB,CAACJ,EAAUD,EAAUE,GAElDG,GAAoBD,GAAoBC,GAAoBF,EAC/B,CAACH,EAAUC,EAAUC,GAGrB,CAACF,EAAUE,EAAUD,IAKrDxG,EAASzP,EAAIwP,EAAQxP,IAAM2P,EAAW1P,EAAIuP,EAAQvP,IAAQwP,EAASxP,EAAIuP,EAAQvP,IAAM0P,EAAW3P,EAAIwP,EAAQxP,GAAM,KACnH2P,EAAYF,GAAY,CAACA,EAAUE,IAEjC,CAAEA,aAAYH,UAASC,WAClC,CAiS8C6G,IAAyBP,EAAuBD,QACpFS,EAAYhD,EAAqBvJ,EAAQwJ,EAAuB/D,EAAUD,EAASG,GACnFlO,EAAS,GACX8U,GACA9U,EAAOkB,KAAK,CACR+M,iBAAkB,CAAE1P,EAAGuW,EAAU7G,iBAAiB1P,EAAGC,EAAGsW,EAAU7G,iBAAiBzP,GACnF0P,WAAY,CAAE3P,EAAG2P,EAAW3P,EAAGC,EAAG0P,EAAW1P,GAC7CiK,UAAWqM,EAAUrM,UACrBsF,QAAS,CAAExP,EAAGwP,EAAQxP,EAAGC,EAAGuP,EAAQvP,GACpCwP,SAAU,CAAEzP,EAAGyP,EAASzP,EAAGC,EAAGwP,EAASxP,KAQ/C,MAAMuW,EAAcvD,EAAiBjJ,EAAQyF,GACvCgH,EAAaxD,EAAiBjJ,EAAQwF,GACtCkH,EAAgBzD,EAAiBjJ,EAAQ2F,GACzCgH,EAAoBpD,EAAqBvJ,EAAQwJ,EAAuBgD,EAAaC,EAAYC,GAUvG,OATIC,GACAlV,EAAOkB,KAAK,CACR+M,iBAAkB,CAAE1P,EAAG2W,EAAkBjH,iBAAiB1P,EAAGC,EAAG0W,EAAkBjH,iBAAiBzP,GACnG0P,WAAY,CAAE3P,EAAG0W,EAAc1W,EAAGC,EAAGyW,EAAczW,GACnDuP,QAAS,CAAExP,EAAGyW,EAAWzW,EAAGC,EAAGwW,EAAWxW,GAC1CwP,SAAU,CAAEzP,EAAGwW,EAAYxW,EAAGC,EAAGuW,EAAYvW,GAC7CiK,UAAWyM,EAAkBzM,YAGf,IAAlBzI,EAAO7B,OACA,KAEJ6B,CACX,CA2CsBmV,CAAO5M,GACzB,IAAK0K,EACD,OAAO,KAEX,IAAK,MAAMvF,KAAYuF,EAAW,CAC9B,MAAMmC,EAAY5H,EAAQjF,EAAQmF,GAC5B2H,EAAUrT,EAAOoT,EAAU7M,QACjC,GAAI8M,EACA,MAAO,CACHC,WAAYD,EAAQ5V,MACpB1B,KAAMsX,EAAQ3U,KACduK,OAAQoK,EAAQpK,OAChBzC,QAAS6M,EAAQ7M,QACjBkF,SAAU,CACN6H,eAAgBH,EAAUjH,gBAAgBT,EAASjF,UAAW,GAC9D+M,cAAeJ,EAAUjH,gBAAgB,EAAG,GAC5CsH,kBAAmBL,EAAUjH,gBAAgBT,EAASjF,UAAWiF,EAASjF,WAC1EiN,iBAAkBN,EAAUjH,gBAAgB,EAAGT,EAASjF,WACxDkN,sBAAuBjI,EAASM,SAChC4H,qBAAsBlI,EAASK,QAC/B8H,wBAAyBnI,EAASQ,WAClC4H,4BAA6BpI,EAASO,kBAE1C1F,OAAQ6M,EAAU7M,OAG9B,CACA,OAAO,IACX,CACA,MAAMwN,EAAiB,CACnBC,kBAAmB,cACnBC,iBAAkB,CACdC,IAAK,MACLC,MAAO,MACPC,KAAM,MACNC,yBAAyB,GAE7BC,mBAAmB,GAEvB,SAASC,EAAYC,EAAQC,GACzBtC,OAAOuC,KAAKD,GAAKzS,SAAQ2S,IACrBH,EAAOG,GAAOF,EAAIE,EAAI,GAE9B,CACA,SAASC,EAAK7Y,EAAMC,EAAOE,EAAQ2Y,EAAkB,CAAC,GAClD,MAAMC,EAAU3C,OAAO4C,OAAO,MAC9BR,EAAYO,EAASf,GACrBQ,EAAYO,EAASD,GACrB,MAAMG,EAAiD,eAA9BF,EAAQd,mBAAoE,gBAA9Bc,EAAQd,kBACzEiB,EAA6C,gBAA9BH,EAAQd,mBAAuCgB,GAC9D,UAAEE,EAAS,SAAEC,GAlyFvB,SAAkBpZ,EAAMC,EAAOE,EAAQkZ,EAAgBC,EAAkBf,GACrE,MAAMgB,EAAatZ,EAAQE,EAC3B,GAAIH,EAAKI,SAAwB,EAAbmZ,EAChB,MAAM,IAAI/X,MAAM,uCAGpB,IAEIgY,EAFAC,EAAe,EAGflB,IACAiB,EAAkB,IAAIlZ,kBAAkBN,EAAKsB,OAAQmY,EAAcF,GACnEE,GAAgBF,GAEpB,MAAMG,EAAkB,IAAIrY,EAAOpB,EAAOE,EAAQqZ,GAClD,GAAIF,EAAiBhB,wBACjB,IAAK,IAAI7X,EAAI,EAAGA,EAAIN,EAAQM,IACxB,IAAK,IAAID,EAAI,EAAGA,EAAIP,EAAOO,IAAK,CAC5B,MAAMmZ,EAAkC,GAAjBlZ,EAAIR,EAAQO,GAC7BkH,EAAI1H,EAAK2Z,GACTC,EAAI5Z,EAAK2Z,EAAgB,GACzB1W,EAAIjD,EAAK2Z,EAAgB,GAC/BD,EAAgBhZ,IAAIF,EAAGC,EAEtB6Y,EAAiBnB,IAAMzQ,EAAI4R,EAAiBlB,MAAQwB,EAAIN,EAAiBjB,KAAOpV,EAAI,KAAQ,EACjG,MAIJ,IAAK,IAAIxC,EAAI,EAAGA,EAAIN,EAAQM,IACxB,IAAK,IAAID,EAAI,EAAGA,EAAIP,EAAOO,IAAK,CAC5B,MAAMmZ,EAAkC,GAAjBlZ,EAAIR,EAAQO,GAC7BkH,EAAI1H,EAAK2Z,GACTC,EAAI5Z,EAAK2Z,EAAgB,GACzB1W,EAAIjD,EAAK2Z,EAAgB,GAC/BD,EAAgBhZ,IAAIF,EAAGC,EAAG6Y,EAAiBnB,IAAMzQ,EAAI4R,EAAiBlB,MAAQwB,EAAIN,EAAiBjB,KAAOpV,EAC9G,CAGR,MAAM4W,EAAwB9W,KAAKqP,KAAKnS,EAAQc,GAC1C+Y,EAAsB/W,KAAKqP,KAAKjS,EAASY,GACzCgZ,EAAmBF,EAAwBC,EACjD,IAAIE,EACAzB,IACAyB,EAAoB,IAAI1Z,kBAAkBN,EAAKsB,OAAQmY,EAAcM,GACrEN,GAAgBM,GAEpB,MAAME,EAAc,IAAI5Y,EAAOwY,EAAuBC,EAAqBE,GAC3E,IAAK,IAAIE,EAAiB,EAAGA,EAAiBJ,EAAqBI,IAC/D,IAAK,IAAIC,EAAoB,EAAGA,EAAoBN,EAAuBM,IAAqB,CAC5F,IAAIhZ,EAAM6J,IACN5J,EAAM,EACV,IAAK,IAAIX,EAAI,EAAGA,EAAIM,EAAaN,IAC7B,IAAK,IAAID,EAAI,EAAGA,EAAIO,EAAaP,IAAK,CAClC,MAAM4Z,EAAgBV,EAAgBnZ,IAAI4Z,EAAoBpZ,EAAcP,EAAG0Z,EAAiBnZ,EAAcN,GAC9GU,EAAM4B,KAAK5B,IAAIA,EAAKiZ,GACpBhZ,EAAM2B,KAAK3B,IAAIA,EAAKgZ,EACxB,CAMJ,IAAIC,GAAWlZ,EAAMC,GAAO,EAG5B,MAAMkZ,EAAY,KAElB,GADAD,EAAUtX,KAAK5B,IAAI,IAAKkZ,EAAUC,GAC9BlZ,EAAMD,GAAOH,IAMbqZ,EAAUlZ,EAAM,EACZ+Y,EAAiB,GAAKC,EAAoB,GAAG,CAO7C,MAAMI,GAA6BN,EAAY1Z,IAAI4Z,EAAmBD,EAAiB,GAClF,EAAID,EAAY1Z,IAAI4Z,EAAoB,EAAGD,GAC5CD,EAAY1Z,IAAI4Z,EAAoB,EAAGD,EAAiB,IAAM,EAC9D/Y,EAAMoZ,IACNF,EAAUE,EAElB,CAEJN,EAAYvZ,IAAIyZ,EAAmBD,EAAgBG,EACvD,CAEJ,IAAIlB,EACJ,GAAIZ,EAAmB,CACnB,MAAMiC,EAAkB,IAAIla,kBAAkBN,EAAKsB,OAAQmY,EAAcF,GACzEE,GAAgBF,EAChBJ,EAAY,IAAIrZ,EAAU0a,EAAiBva,EAC/C,MAEIkZ,EAAYrZ,EAAUO,YAAYJ,EAAOE,GAE7C,IAAIiZ,EAAW,KACf,GAAIC,EACA,GAAId,EAAmB,CACnB,MAAMkC,EAAiB,IAAIna,kBAAkBN,EAAKsB,OAAQmY,EAAcF,GACxEH,EAAW,IAAItZ,EAAU2a,EAAgBxa,EAC7C,MAEImZ,EAAWtZ,EAAUO,YAAYJ,EAAOE,GAGhD,IAAK,IAAI+Z,EAAiB,EAAGA,EAAiBJ,EAAqBI,IAC/D,IAAK,IAAIC,EAAoB,EAAGA,EAAoBN,EAAuBM,IAAqB,CAC5F,MAAMtZ,EAAOI,EAAWkZ,EAAmB,EAAGN,EAAwB,GAChE/Y,EAAMG,EAAWiZ,EAAgB,EAAGJ,EAAsB,GAChE,IAAIlJ,EAAM,EACV,IAAK,IAAI8J,GAAW,EAAGA,GAAW,EAAGA,IACjC,IAAK,IAAIC,GAAW,EAAGA,GAAW,EAAGA,IACjC/J,GAAOqJ,EAAY1Z,IAAIM,EAAO6Z,EAAS5Z,EAAM6Z,GAGrD,MAAMC,EAAYhK,EAAM,GACxB,IAAK,IAAI8J,EAAU,EAAGA,EAAU3Z,EAAa2Z,IACzC,IAAK,IAAIC,EAAU,EAAGA,EAAU5Z,EAAa4Z,IAAW,CACpD,MAAMna,EAAI2Z,EAAoBpZ,EAAc2Z,EACtCja,EAAIyZ,EAAiBnZ,EAAc4Z,EACnCE,EAAMnB,EAAgBnZ,IAAIC,EAAGC,GACnC0Y,EAAUzY,IAAIF,EAAGC,EAAGoa,GAAOD,GACvBvB,GACAD,EAAS1Y,IAAIF,EAAGC,IAAKoa,GAAOD,GAEpC,CAER,CAEJ,OAAIvB,EACO,CAAEF,YAAWC,YAEjB,CAAED,YACb,CAupFoC2B,CAAS9a,EAAMC,EAAOE,EAAQ+Y,EAAcH,EAAQb,iBAAkBa,EAAQR,mBAC9G,IAAItW,EAASgT,EAAKgE,EAAmBG,EAAWD,GAIhD,OAHKlX,GAAyC,gBAA9B8W,EAAQd,mBAAqE,gBAA9Bc,EAAQd,oBACnEhW,EAASgT,EAAKgE,EAAmBE,EAAYC,IAE1CnX,CACX,CACA4W,EAAKkC,QAAUlC,C,oIC11Ff,2BAAgCmC,GAC9B,MAAMC,EAAUC,IAAIC,gBAAgBH,GAC9BI,EAAM,IAAIC,MAEhB,OAAO,IAAIC,SAAc,CAACC,EAASC,KACjCJ,EAAIK,OAAS,IAAMF,IACnBH,EAAIM,QAAWC,GAAQH,EAAOG,GAC9BP,EAAI1C,IAAMuC,CAAO,IAChBW,MAAK,KACNV,IAAIW,gBAAgBZ,GACpB,MAAMa,EAASC,SAASC,cAAc,UACtCF,EAAO7b,MAAQmb,EAAInb,MACnB6b,EAAO3b,OAASib,EAAIjb,OACpB,MAAM8b,EAAMH,EAAOI,WAAW,MAE9B,OADAD,EAAIE,UAAUf,EAAK,EAAG,GACfa,EAAIG,aAAa,EAAG,EAAGN,EAAO7b,MAAO6b,EAAO3b,OAAO,GAE9D,EAEA,wCACEib,GAEA,MAAMU,EAASC,SAASC,cAAc,UAClCZ,aAAeiB,kBACjBP,EAAO7b,MAAQmb,EAAIkB,WACnBR,EAAO3b,OAASib,EAAImB,aACXnB,aAAeoB,iBACxBV,EAAO7b,MAAQmb,EAAInb,MAAMwc,QAAQvb,MACjC4a,EAAO3b,OAASib,EAAIjb,OAAOsc,QAAQvb,OAC1Bka,aAAesB,YACxBZ,EAAO7b,MAAQmb,EAAIuB,WACnBb,EAAO3b,OAASib,EAAIwB,cAEpBd,EAAO7b,MAAQmb,EAAInb,MACnB6b,EAAO3b,OAASib,EAAIjb,QAEtB,MAAM8b,EAAMH,EAAOI,WAAW,MAE9B,OADAD,EAAIE,UAAUf,EAAK,EAAG,GACfa,EAAIG,aAAa,EAAG,EAAGN,EAAO7b,MAAO6b,EAAO3b,OACrD,EAIA,wBACE,MAEM0c,EAAY,IAAIvc,kBAAkB,MACxC,IAAK,IAAIkD,EAAI,EAAGA,EAAIxD,IAAawD,IAAK,CACpC,MAAMtC,EAAoB,MAH1B,ohBAGmBsC,GAAa,EAAI,IACpCqZ,EAAU,EAAIrZ,EAAI,GAAKtC,EACvB2b,EAAU,EAAIrZ,EAAI,GAAKtC,EACvB2b,EAAU,EAAIrZ,EAAI,GAAKtC,EACvB2b,EAAU,EAAIrZ,EAAI,GAAK,G,CAEzB,OAAO,IAAIsZ,UAAUD,EAAW,GAAI,GACtC,C,GCtDIE,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAI,CAACH,EAASI,KACjC,IAAI,IAAIC,KAAOD,EACXR,EAAoBU,EAAEF,EAAYC,KAAST,EAAoBU,EAAEN,EAASK,IAC5ErH,OAAOuH,eAAeP,EAASK,EAAK,CAAEG,YAAY,EAAMrd,IAAKid,EAAWC,IAE1E,ECNDT,EAAoBU,EAAI,CAACG,EAAKC,IAAU1H,OAAO2H,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFd,EAAoBtV,EAAK0V,IACH,oBAAXc,QAA0BA,OAAOC,aAC1C/H,OAAOuH,eAAeP,EAASc,OAAOC,YAAa,CAAEjd,MAAO,WAE7DkV,OAAOuH,eAAeP,EAAS,aAAc,CAAElc,OAAO,GAAO,E,uBCL9D,eAQA,SAMA,gBAIE,WAAAnB,CAAYqe,GAHZ,KAAAC,8BAAgDlB,EAChD,KAAAmB,qBAA+CnB,EAGxCoB,KAAaC,kBAChBte,KAAKoe,gBAAkB,IAAKC,KAAaC,gBACvCJ,GAGN,CAEA,YAAMK,CAAO/O,GACX,IACoC,IAAlCxP,KAAKme,+BAC8BlB,IAAlCjd,KAAKme,gCACGne,KAAKwe,0BAEd,OAAOxe,KAAKoe,gBAAgBG,OAAO/O,GAUrC,GANIA,aAAiBoN,YAEnBpN,EADSA,aAAiBiP,WACZ,IAAAC,iBAAgBlP,IAEtB,IAAAmP,8BAA6BnP,MAEjCA,aAAiBoN,WACrB,MAAMtb,MAAM,oDAGd,MAAMS,GAAS,aAAKyN,EAAM1P,KAAM0P,EAAMzP,MAAOyP,EAAMvP,QACnD,IAAK8B,GAA0B,KAAhBA,EAAOjC,KAEpB,MAAO,GAGT,MAAM8e,EAAO/b,KAAK5B,IAChBc,EAAO0N,SAAS8H,cAAcjX,EAC9ByB,EAAO0N,SAAS6H,eAAehX,EAC/ByB,EAAO0N,SAAS+H,kBAAkBlX,EAClCyB,EAAO0N,SAASgI,iBAAiBnX,GAE7Bue,EAAOhc,KAAK5B,IAChBc,EAAO0N,SAAS8H,cAAchX,EAC9BwB,EAAO0N,SAAS6H,eAAe/W,EAC/BwB,EAAO0N,SAAS+H,kBAAkBjX,EAClCwB,EAAO0N,SAASgI,iBAAiBlX,GAE7Bue,EAAOjc,KAAK3B,IAChBa,EAAO0N,SAAS8H,cAAcjX,EAC9ByB,EAAO0N,SAAS6H,eAAehX,EAC/ByB,EAAO0N,SAAS+H,kBAAkBlX,EAClCyB,EAAO0N,SAASgI,iBAAiBnX,GAE7Bye,EAAOlc,KAAK3B,IAChBa,EAAO0N,SAAS8H,cAAchX,EAC9BwB,EAAO0N,SAAS6H,eAAe/W,EAC/BwB,EAAO0N,SAAS+H,kBAAkBjX,EAClCwB,EAAO0N,SAASgI,iBAAiBlX,GAGnC,MAAO,CACL,CACEye,OAAQ,UACRC,SAAUld,EAAOjC,KACjBof,YAAa,IAAIC,gBAAgBP,EAAMC,EAAMC,EAAOF,EAAMG,EAAOF,GACjEO,aAAc,CACZrd,EAAO0N,SAAS8H,cAChBxV,EAAO0N,SAAS6H,eAChBvV,EAAO0N,SAAS+H,kBAChBzV,EAAO0N,SAASgI,mBAIxB,CAEA,gCAAa4H,GACX,MAAO,CAAC,UACV,CAEA,6BAAMb,GACJ,QAAsCvB,IAAlCjd,KAAKme,yBAAwC,CAC/C,GAAKE,KAAaC,wBAEdD,KACAC,gBAAgBe,uBACGC,SAAS,WAAY,CAExC,MAAMC,QAAmBvf,KAAKoe,gBAAgBG,QAAO,IAAAiB,eACrD,GAA0B,IAAtBD,EAAWrf,QAA2C,QAA3Bqf,EAAW,GAAGN,SAE3C,OADAjf,KAAKme,0BAA2B,GACzB,C,CAIbne,KAAKme,0BAA2B,C,CAElC,OAAOne,KAAKme,wBACd,E","sources":["webpack://QrDetector/./node_modules/jsqr-es6/dist/jsQR.js","webpack://QrDetector/./src/utils.ts","webpack://QrDetector/webpack/bootstrap","webpack://QrDetector/webpack/runtime/define property getters","webpack://QrDetector/webpack/runtime/hasOwnProperty shorthand","webpack://QrDetector/webpack/runtime/make namespace object","webpack://QrDetector/./src/QrDetector.ts"],"sourcesContent":["class BitMatrix {\n    constructor(data, width) {\n        this.width = width;\n        this.height = data.length / width;\n        this.data = data;\n    }\n    static createEmpty(width, height) {\n        return new BitMatrix(new Uint8ClampedArray(width * height), width);\n    }\n    get(x, y) {\n        if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\n            return false;\n        }\n        return !!this.data[y * this.width + x];\n    }\n    set(x, y, v) {\n        this.data[y * this.width + x] = v ? 1 : 0;\n    }\n    setRegion(left, top, width, height, v) {\n        for (let y = top; y < top + height; y++) {\n            for (let x = left; x < left + width; x++) {\n                this.set(x, y, !!v);\n            }\n        }\n    }\n}\n\nconst REGION_SIZE = 8;\nconst MIN_DYNAMIC_RANGE = 24;\nfunction numBetween(value, min, max) {\n    return value < min ? min : value > max ? max : value;\n}\n// Like BitMatrix but accepts arbitry Uint8 values\nclass Matrix {\n    constructor(width, height, buffer) {\n        this.width = width;\n        const bufferSize = width * height;\n        if (buffer && buffer.length !== bufferSize) {\n            throw new Error(\"Wrong buffer size\");\n        }\n        this.data = buffer || new Uint8ClampedArray(bufferSize);\n    }\n    get(x, y) {\n        return this.data[y * this.width + x];\n    }\n    set(x, y, value) {\n        this.data[y * this.width + x] = value;\n    }\n}\nfunction binarize(data, width, height, returnInverted, greyscaleWeights, canOverwriteImage) {\n    const pixelCount = width * height;\n    if (data.length !== pixelCount * 4) {\n        throw new Error(\"Malformed data passed to binarizer.\");\n    }\n    // assign the greyscale and binary image within the rgba buffer as the rgba image will not be needed after conversion\n    let bufferOffset = 0;\n    // Convert image to greyscale\n    let greyscaleBuffer;\n    if (canOverwriteImage) {\n        greyscaleBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n        bufferOffset += pixelCount;\n    }\n    const greyscalePixels = new Matrix(width, height, greyscaleBuffer);\n    if (greyscaleWeights.useIntegerApproximation) {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const pixelPosition = (y * width + x) * 4;\n                const r = data[pixelPosition];\n                const g = data[pixelPosition + 1];\n                const b = data[pixelPosition + 2];\n                greyscalePixels.set(x, y, \n                // tslint:disable-next-line no-bitwise\n                (greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b + 128) >> 8);\n            }\n        }\n    }\n    else {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const pixelPosition = (y * width + x) * 4;\n                const r = data[pixelPosition];\n                const g = data[pixelPosition + 1];\n                const b = data[pixelPosition + 2];\n                greyscalePixels.set(x, y, greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b);\n            }\n        }\n    }\n    const horizontalRegionCount = Math.ceil(width / REGION_SIZE);\n    const verticalRegionCount = Math.ceil(height / REGION_SIZE);\n    const blackPointsCount = horizontalRegionCount * verticalRegionCount;\n    let blackPointsBuffer;\n    if (canOverwriteImage) {\n        blackPointsBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, blackPointsCount);\n        bufferOffset += blackPointsCount;\n    }\n    const blackPoints = new Matrix(horizontalRegionCount, verticalRegionCount, blackPointsBuffer);\n    for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n        for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n            let min = Infinity;\n            let max = 0;\n            for (let y = 0; y < REGION_SIZE; y++) {\n                for (let x = 0; x < REGION_SIZE; x++) {\n                    const pixelLumosity = greyscalePixels.get(hortizontalRegion * REGION_SIZE + x, verticalRegion * REGION_SIZE + y);\n                    min = Math.min(min, pixelLumosity);\n                    max = Math.max(max, pixelLumosity);\n                }\n            }\n            // We could also compute the real average of all pixels but following the assumption that the qr code consists\n            // of bright and dark pixels and essentially not much in between, by (min + max)/2 we make the cut really between\n            // those two classes. If using the average over all pixel in a block of mostly bright pixels and few dark pixels,\n            // the avg would tend to the bright side and darker bright pixels could be interpreted as dark.\n            let average = (min + max) / 2;\n            // Small bias towards black by moving the threshold up. We do this, as in the finder patterns white holes tend\n            // to appear which makes them undetectable.\n            const blackBias = 1.11;\n            average = Math.min(255, average * blackBias);\n            if (max - min <= MIN_DYNAMIC_RANGE) {\n                // If variation within the block is low, assume this is a block with only light or only\n                // dark pixels. In that case we do not want to use the average, as it would divide this\n                // low contrast area into black and white pixels, essentially creating data out of noise.\n                //\n                // Default the blackpoint for these blocks to be half the min - effectively white them out\n                average = min / 2;\n                if (verticalRegion > 0 && hortizontalRegion > 0) {\n                    // Correct the \"white background\" assumption for blocks that have neighbors by comparing\n                    // the pixels in this block to the previously calculated black points. This is based on\n                    // the fact that dark barcode symbology is always surrounded by some amount of light\n                    // background for which reasonable black point estimates were made. The bp estimated at\n                    // the boundaries is used for the interior.\n                    // The (min < bp) is arbitrary but works better than other heuristics that were tried.\n                    const averageNeighborBlackPoint = (blackPoints.get(hortizontalRegion, verticalRegion - 1) +\n                        (2 * blackPoints.get(hortizontalRegion - 1, verticalRegion)) +\n                        blackPoints.get(hortizontalRegion - 1, verticalRegion - 1)) / 4;\n                    if (min < averageNeighborBlackPoint) {\n                        average = averageNeighborBlackPoint; // no need to apply black bias as already applied to neighbors\n                    }\n                }\n            }\n            blackPoints.set(hortizontalRegion, verticalRegion, average);\n        }\n    }\n    let binarized;\n    if (canOverwriteImage) {\n        const binarizedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n        bufferOffset += pixelCount;\n        binarized = new BitMatrix(binarizedBuffer, width);\n    }\n    else {\n        binarized = BitMatrix.createEmpty(width, height);\n    }\n    let inverted = null;\n    if (returnInverted) {\n        if (canOverwriteImage) {\n            const invertedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n            inverted = new BitMatrix(invertedBuffer, width);\n        }\n        else {\n            inverted = BitMatrix.createEmpty(width, height);\n        }\n    }\n    for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n        for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n            const left = numBetween(hortizontalRegion, 2, horizontalRegionCount - 3);\n            const top = numBetween(verticalRegion, 2, verticalRegionCount - 3);\n            let sum = 0;\n            for (let xRegion = -2; xRegion <= 2; xRegion++) {\n                for (let yRegion = -2; yRegion <= 2; yRegion++) {\n                    sum += blackPoints.get(left + xRegion, top + yRegion);\n                }\n            }\n            const threshold = sum / 25;\n            for (let xRegion = 0; xRegion < REGION_SIZE; xRegion++) {\n                for (let yRegion = 0; yRegion < REGION_SIZE; yRegion++) {\n                    const x = hortizontalRegion * REGION_SIZE + xRegion;\n                    const y = verticalRegion * REGION_SIZE + yRegion;\n                    const lum = greyscalePixels.get(x, y);\n                    binarized.set(x, y, lum <= threshold);\n                    if (returnInverted) {\n                        inverted.set(x, y, !(lum <= threshold));\n                    }\n                }\n            }\n        }\n    }\n    if (returnInverted) {\n        return { binarized, inverted };\n    }\n    return { binarized };\n}\n\n// tslint:disable:no-bitwise\nclass BitStream {\n    constructor(bytes) {\n        this.byteOffset = 0;\n        this.bitOffset = 0;\n        this.bytes = bytes;\n    }\n    readBits(numBits) {\n        if (numBits < 1 || numBits > 32 || numBits > this.available()) {\n            throw new Error(\"Cannot read \" + numBits.toString() + \" bits\");\n        }\n        let result = 0;\n        // First, read remainder from current byte\n        if (this.bitOffset > 0) {\n            const bitsLeft = 8 - this.bitOffset;\n            const toRead = numBits < bitsLeft ? numBits : bitsLeft;\n            const bitsToNotRead = bitsLeft - toRead;\n            const mask = (0xFF >> (8 - toRead)) << bitsToNotRead;\n            result = (this.bytes[this.byteOffset] & mask) >> bitsToNotRead;\n            numBits -= toRead;\n            this.bitOffset += toRead;\n            if (this.bitOffset === 8) {\n                this.bitOffset = 0;\n                this.byteOffset++;\n            }\n        }\n        // Next read whole bytes\n        if (numBits > 0) {\n            while (numBits >= 8) {\n                result = (result << 8) | (this.bytes[this.byteOffset] & 0xFF);\n                this.byteOffset++;\n                numBits -= 8;\n            }\n            // Finally read a partial byte\n            if (numBits > 0) {\n                const bitsToNotRead = 8 - numBits;\n                const mask = (0xFF >> bitsToNotRead) << bitsToNotRead;\n                result = (result << numBits) | ((this.bytes[this.byteOffset] & mask) >> bitsToNotRead);\n                this.bitOffset += numBits;\n            }\n        }\n        return result;\n    }\n    available() {\n        return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;\n    }\n}\n\n// tslint:disable:no-bitwise\nvar Mode;\n(function (Mode) {\n    Mode[\"Numeric\"] = \"numeric\";\n    Mode[\"Alphanumeric\"] = \"alphanumeric\";\n    Mode[\"Byte\"] = \"byte\";\n    Mode[\"Kanji\"] = \"kanji\";\n    Mode[\"ECI\"] = \"eci\";\n    Mode[\"StructuredAppend\"] = \"structuredappend\";\n})(Mode || (Mode = {}));\nvar ModeByte;\n(function (ModeByte) {\n    ModeByte[ModeByte[\"Terminator\"] = 0] = \"Terminator\";\n    ModeByte[ModeByte[\"Numeric\"] = 1] = \"Numeric\";\n    ModeByte[ModeByte[\"Alphanumeric\"] = 2] = \"Alphanumeric\";\n    ModeByte[ModeByte[\"Byte\"] = 4] = \"Byte\";\n    ModeByte[ModeByte[\"Kanji\"] = 8] = \"Kanji\";\n    ModeByte[ModeByte[\"ECI\"] = 7] = \"ECI\";\n    ModeByte[ModeByte[\"StructuredAppend\"] = 3] = \"StructuredAppend\";\n    // FNC1FirstPosition = 0x5,\n    // FNC1SecondPosition = 0x9,\n})(ModeByte || (ModeByte = {}));\nfunction decodeNumeric(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [10, 12, 14][size];\n    let length = stream.readBits(characterCountSize);\n    // Read digits in groups of 3\n    while (length >= 3) {\n        const num = stream.readBits(10);\n        if (num >= 1000) {\n            throw new Error(\"Invalid numeric value above 999\");\n        }\n        const a = Math.floor(num / 100);\n        const b = Math.floor(num / 10) % 10;\n        const c = num % 10;\n        bytes.push(48 + a, 48 + b, 48 + c);\n        text += a.toString() + b.toString() + c.toString();\n        length -= 3;\n    }\n    // If the number of digits aren't a multiple of 3, the remaining digits are special cased.\n    if (length === 2) {\n        const num = stream.readBits(7);\n        if (num >= 100) {\n            throw new Error(\"Invalid numeric value above 99\");\n        }\n        const a = Math.floor(num / 10);\n        const b = num % 10;\n        bytes.push(48 + a, 48 + b);\n        text += a.toString() + b.toString();\n    }\n    else if (length === 1) {\n        const num = stream.readBits(4);\n        if (num >= 10) {\n            throw new Error(\"Invalid numeric value above 9\");\n        }\n        bytes.push(48 + num);\n        text += num.toString();\n    }\n    return { bytes, text };\n}\nconst AlphanumericCharacterCodes = [\n    \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n    \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\",\n    \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\",\n    \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n    \" \", \"$\", \"%\", \"*\", \"+\", \"-\", \".\", \"/\", \":\",\n];\nfunction decodeAlphanumeric(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [9, 11, 13][size];\n    let length = stream.readBits(characterCountSize);\n    while (length >= 2) {\n        const v = stream.readBits(11);\n        const a = Math.floor(v / 45);\n        const b = v % 45;\n        bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0), AlphanumericCharacterCodes[b].charCodeAt(0));\n        text += AlphanumericCharacterCodes[a] + AlphanumericCharacterCodes[b];\n        length -= 2;\n    }\n    if (length === 1) {\n        const a = stream.readBits(6);\n        bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0));\n        text += AlphanumericCharacterCodes[a];\n    }\n    return { bytes, text };\n}\nfunction decodeByte(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [8, 16, 16][size];\n    const length = stream.readBits(characterCountSize);\n    for (let i = 0; i < length; i++) {\n        const b = stream.readBits(8);\n        bytes.push(b);\n    }\n    try {\n        text += decodeURIComponent(bytes.map(b => `%${(\"0\" + b.toString(16)).substr(-2)}`).join(\"\"));\n    }\n    catch (_a) {\n        // failed to decode\n    }\n    return { bytes, text };\n}\nfunction decodeKanji(stream, size) {\n    const bytes = [];\n    const characterCountSize = [8, 10, 12][size];\n    const length = stream.readBits(characterCountSize);\n    for (let i = 0; i < length; i++) {\n        const k = stream.readBits(13);\n        let c = (Math.floor(k / 0xC0) << 8) | (k % 0xC0);\n        if (c < 0x1F00) {\n            c += 0x8140;\n        }\n        else {\n            c += 0xC140;\n        }\n        bytes.push(c >> 8, c & 0xFF);\n    }\n    const text = new TextDecoder(\"shift-jis\").decode(Uint8Array.from(bytes));\n    return { bytes, text };\n}\nfunction decode$2(data, version) {\n    const stream = new BitStream(data);\n    // There are 3 'sizes' based on the version. 1-9 is small (0), 10-26 is medium (1) and 27-40 is large (2).\n    const size = version <= 9 ? 0 : version <= 26 ? 1 : 2;\n    const result = {\n        text: \"\",\n        bytes: [],\n        chunks: [],\n        version,\n    };\n    while (stream.available() >= 4) {\n        const mode = stream.readBits(4);\n        if (mode === ModeByte.Terminator) {\n            return result;\n        }\n        else if (mode === ModeByte.ECI) {\n            if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(7),\n                });\n            }\n            else if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(14),\n                });\n            }\n            else if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(21),\n                });\n            }\n            else {\n                // ECI data seems corrupted\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: -1,\n                });\n            }\n        }\n        else if (mode === ModeByte.Numeric) {\n            const numericResult = decodeNumeric(stream, size);\n            result.text += numericResult.text;\n            result.bytes.push(...numericResult.bytes);\n            result.chunks.push({\n                type: Mode.Numeric,\n                text: numericResult.text,\n            });\n        }\n        else if (mode === ModeByte.Alphanumeric) {\n            const alphanumericResult = decodeAlphanumeric(stream, size);\n            result.text += alphanumericResult.text;\n            result.bytes.push(...alphanumericResult.bytes);\n            result.chunks.push({\n                type: Mode.Alphanumeric,\n                text: alphanumericResult.text,\n            });\n        }\n        else if (mode === ModeByte.Byte) {\n            const byteResult = decodeByte(stream, size);\n            result.text += byteResult.text;\n            result.bytes.push(...byteResult.bytes);\n            result.chunks.push({\n                type: Mode.Byte,\n                bytes: byteResult.bytes,\n                text: byteResult.text,\n            });\n        }\n        else if (mode === ModeByte.Kanji) {\n            const kanjiResult = decodeKanji(stream, size);\n            result.text += kanjiResult.text;\n            result.bytes.push(...kanjiResult.bytes);\n            result.chunks.push({\n                type: Mode.Kanji,\n                bytes: kanjiResult.bytes,\n                text: kanjiResult.text,\n            });\n        }\n        else if (mode === ModeByte.StructuredAppend) {\n            result.chunks.push({\n                type: Mode.StructuredAppend,\n                currentSequence: stream.readBits(4),\n                totalSequence: stream.readBits(4),\n                parity: stream.readBits(8),\n            });\n        }\n    }\n    // If there is no data left, or the remaining bits are all 0, then that counts as a termination marker\n    if (stream.available() === 0 || stream.readBits(stream.available()) === 0) {\n        return result;\n    }\n}\n\nclass GenericGFPoly {\n    constructor(field, coefficients) {\n        if (coefficients.length === 0) {\n            throw new Error(\"No coefficients.\");\n        }\n        this.field = field;\n        const coefficientsLength = coefficients.length;\n        if (coefficientsLength > 1 && coefficients[0] === 0) {\n            // Leading term must be non-zero for anything except the constant polynomial \"0\"\n            let firstNonZero = 1;\n            while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {\n                firstNonZero++;\n            }\n            if (firstNonZero === coefficientsLength) {\n                this.coefficients = field.zero.coefficients;\n            }\n            else {\n                this.coefficients = new Uint8ClampedArray(coefficientsLength - firstNonZero);\n                for (let i = 0; i < this.coefficients.length; i++) {\n                    this.coefficients[i] = coefficients[firstNonZero + i];\n                }\n            }\n        }\n        else {\n            this.coefficients = coefficients;\n        }\n    }\n    degree() {\n        return this.coefficients.length - 1;\n    }\n    isZero() {\n        return this.coefficients[0] === 0;\n    }\n    getCoefficient(degree) {\n        return this.coefficients[this.coefficients.length - 1 - degree];\n    }\n    addOrSubtract(other) {\n        if (this.isZero()) {\n            return other;\n        }\n        if (other.isZero()) {\n            return this;\n        }\n        let smallerCoefficients = this.coefficients;\n        let largerCoefficients = other.coefficients;\n        if (smallerCoefficients.length > largerCoefficients.length) {\n            [smallerCoefficients, largerCoefficients] = [largerCoefficients, smallerCoefficients];\n        }\n        const sumDiff = new Uint8ClampedArray(largerCoefficients.length);\n        const lengthDiff = largerCoefficients.length - smallerCoefficients.length;\n        for (let i = 0; i < lengthDiff; i++) {\n            sumDiff[i] = largerCoefficients[i];\n        }\n        for (let i = lengthDiff; i < largerCoefficients.length; i++) {\n            sumDiff[i] = addOrSubtractGF(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);\n        }\n        return new GenericGFPoly(this.field, sumDiff);\n    }\n    multiply(scalar) {\n        if (scalar === 0) {\n            return this.field.zero;\n        }\n        if (scalar === 1) {\n            return this;\n        }\n        const size = this.coefficients.length;\n        const product = new Uint8ClampedArray(size);\n        for (let i = 0; i < size; i++) {\n            product[i] = this.field.multiply(this.coefficients[i], scalar);\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    multiplyPoly(other) {\n        if (this.isZero() || other.isZero()) {\n            return this.field.zero;\n        }\n        const aCoefficients = this.coefficients;\n        const aLength = aCoefficients.length;\n        const bCoefficients = other.coefficients;\n        const bLength = bCoefficients.length;\n        const product = new Uint8ClampedArray(aLength + bLength - 1);\n        for (let i = 0; i < aLength; i++) {\n            const aCoeff = aCoefficients[i];\n            for (let j = 0; j < bLength; j++) {\n                product[i + j] = addOrSubtractGF(product[i + j], this.field.multiply(aCoeff, bCoefficients[j]));\n            }\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    multiplyByMonomial(degree, coefficient) {\n        if (degree < 0) {\n            throw new Error(\"Invalid degree less than 0\");\n        }\n        if (coefficient === 0) {\n            return this.field.zero;\n        }\n        const size = this.coefficients.length;\n        const product = new Uint8ClampedArray(size + degree);\n        for (let i = 0; i < size; i++) {\n            product[i] = this.field.multiply(this.coefficients[i], coefficient);\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    evaluateAt(a) {\n        let result = 0;\n        if (a === 0) {\n            // Just return the x^0 coefficient\n            return this.getCoefficient(0);\n        }\n        const size = this.coefficients.length;\n        if (a === 1) {\n            // Just the sum of the coefficients\n            this.coefficients.forEach((coefficient) => {\n                result = addOrSubtractGF(result, coefficient);\n            });\n            return result;\n        }\n        result = this.coefficients[0];\n        for (let i = 1; i < size; i++) {\n            result = addOrSubtractGF(this.field.multiply(a, result), this.coefficients[i]);\n        }\n        return result;\n    }\n}\n\nfunction addOrSubtractGF(a, b) {\n    return a ^ b; // tslint:disable-line:no-bitwise\n}\nclass GenericGF {\n    constructor(primitive, size, genBase) {\n        this.primitive = primitive;\n        this.size = size;\n        this.generatorBase = genBase;\n        this.expTable = new Array(this.size);\n        this.logTable = new Array(this.size);\n        let x = 1;\n        for (let i = 0; i < this.size; i++) {\n            this.expTable[i] = x;\n            x = x * 2;\n            if (x >= this.size) {\n                x = (x ^ this.primitive) & (this.size - 1); // tslint:disable-line:no-bitwise\n            }\n        }\n        for (let i = 0; i < this.size - 1; i++) {\n            this.logTable[this.expTable[i]] = i;\n        }\n        this.zero = new GenericGFPoly(this, Uint8ClampedArray.from([0]));\n        this.one = new GenericGFPoly(this, Uint8ClampedArray.from([1]));\n    }\n    multiply(a, b) {\n        if (a === 0 || b === 0) {\n            return 0;\n        }\n        return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.size - 1)];\n    }\n    inverse(a) {\n        if (a === 0) {\n            throw new Error(\"Can't invert 0\");\n        }\n        return this.expTable[this.size - this.logTable[a] - 1];\n    }\n    buildMonomial(degree, coefficient) {\n        if (degree < 0) {\n            throw new Error(\"Invalid monomial degree less than 0\");\n        }\n        if (coefficient === 0) {\n            return this.zero;\n        }\n        const coefficients = new Uint8ClampedArray(degree + 1);\n        coefficients[0] = coefficient;\n        return new GenericGFPoly(this, coefficients);\n    }\n    log(a) {\n        if (a === 0) {\n            throw new Error(\"Can't take log(0)\");\n        }\n        return this.logTable[a];\n    }\n    exp(a) {\n        return this.expTable[a];\n    }\n}\n\nfunction runEuclideanAlgorithm(field, a, b, R) {\n    // Assume a's degree is >= b's\n    if (a.degree() < b.degree()) {\n        [a, b] = [b, a];\n    }\n    let rLast = a;\n    let r = b;\n    let tLast = field.zero;\n    let t = field.one;\n    // Run Euclidean algorithm until r's degree is less than R/2\n    while (r.degree() >= R / 2) {\n        const rLastLast = rLast;\n        const tLastLast = tLast;\n        rLast = r;\n        tLast = t;\n        // Divide rLastLast by rLast, with quotient in q and remainder in r\n        if (rLast.isZero()) {\n            // Euclidean algorithm already terminated?\n            return null;\n        }\n        r = rLastLast;\n        let q = field.zero;\n        const denominatorLeadingTerm = rLast.getCoefficient(rLast.degree());\n        const dltInverse = field.inverse(denominatorLeadingTerm);\n        while (r.degree() >= rLast.degree() && !r.isZero()) {\n            const degreeDiff = r.degree() - rLast.degree();\n            const scale = field.multiply(r.getCoefficient(r.degree()), dltInverse);\n            q = q.addOrSubtract(field.buildMonomial(degreeDiff, scale));\n            r = r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff, scale));\n        }\n        t = q.multiplyPoly(tLast).addOrSubtract(tLastLast);\n        if (r.degree() >= rLast.degree()) {\n            return null;\n        }\n    }\n    const sigmaTildeAtZero = t.getCoefficient(0);\n    if (sigmaTildeAtZero === 0) {\n        return null;\n    }\n    const inverse = field.inverse(sigmaTildeAtZero);\n    return [t.multiply(inverse), r.multiply(inverse)];\n}\nfunction findErrorLocations(field, errorLocator) {\n    // This is a direct application of Chien's search\n    const numErrors = errorLocator.degree();\n    if (numErrors === 1) {\n        return [errorLocator.getCoefficient(1)];\n    }\n    const result = new Array(numErrors);\n    let errorCount = 0;\n    for (let i = 1; i < field.size && errorCount < numErrors; i++) {\n        if (errorLocator.evaluateAt(i) === 0) {\n            result[errorCount] = field.inverse(i);\n            errorCount++;\n        }\n    }\n    if (errorCount !== numErrors) {\n        return null;\n    }\n    return result;\n}\nfunction findErrorMagnitudes(field, errorEvaluator, errorLocations) {\n    // This is directly applying Forney's Formula\n    const s = errorLocations.length;\n    const result = new Array(s);\n    for (let i = 0; i < s; i++) {\n        const xiInverse = field.inverse(errorLocations[i]);\n        let denominator = 1;\n        for (let j = 0; j < s; j++) {\n            if (i !== j) {\n                denominator = field.multiply(denominator, addOrSubtractGF(1, field.multiply(errorLocations[j], xiInverse)));\n            }\n        }\n        result[i] = field.multiply(errorEvaluator.evaluateAt(xiInverse), field.inverse(denominator));\n        if (field.generatorBase !== 0) {\n            result[i] = field.multiply(result[i], xiInverse);\n        }\n    }\n    return result;\n}\nfunction decode$1(bytes, twoS) {\n    const outputBytes = new Uint8ClampedArray(bytes.length);\n    outputBytes.set(bytes);\n    const field = new GenericGF(0x011D, 256, 0); // x^8 + x^4 + x^3 + x^2 + 1\n    const poly = new GenericGFPoly(field, outputBytes);\n    const syndromeCoefficients = new Uint8ClampedArray(twoS);\n    let error = false;\n    for (let s = 0; s < twoS; s++) {\n        const evaluation = poly.evaluateAt(field.exp(s + field.generatorBase));\n        syndromeCoefficients[syndromeCoefficients.length - 1 - s] = evaluation;\n        if (evaluation !== 0) {\n            error = true;\n        }\n    }\n    if (!error) {\n        return outputBytes;\n    }\n    const syndrome = new GenericGFPoly(field, syndromeCoefficients);\n    const sigmaOmega = runEuclideanAlgorithm(field, field.buildMonomial(twoS, 1), syndrome, twoS);\n    if (sigmaOmega === null) {\n        return null;\n    }\n    const errorLocations = findErrorLocations(field, sigmaOmega[0]);\n    if (errorLocations == null) {\n        return null;\n    }\n    const errorMagnitudes = findErrorMagnitudes(field, sigmaOmega[1], errorLocations);\n    for (let i = 0; i < errorLocations.length; i++) {\n        const position = outputBytes.length - 1 - field.log(errorLocations[i]);\n        if (position < 0) {\n            return null;\n        }\n        outputBytes[position] = addOrSubtractGF(outputBytes[position], errorMagnitudes[i]);\n    }\n    return outputBytes;\n}\n\nconst VERSIONS = [\n    {\n        infoBits: null,\n        versionNumber: 1,\n        alignmentPatternCenters: [],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 7,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 19 }],\n            },\n            {\n                ecCodewordsPerBlock: 10,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n            },\n            {\n                ecCodewordsPerBlock: 13,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 13 }],\n            },\n            {\n                ecCodewordsPerBlock: 17,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 9 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 2,\n        alignmentPatternCenters: [6, 18],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 10,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 34 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 28 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 22 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 3,\n        alignmentPatternCenters: [6, 22],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 15,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 55 }],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 44 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 17 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 13 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 4,\n        alignmentPatternCenters: [6, 26],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 80 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 32 }],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 24 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 9 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 5,\n        alignmentPatternCenters: [6, 30],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 108 }],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 43 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 16 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 11 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 12 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 6,\n        alignmentPatternCenters: [6, 34],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 68 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 27 }],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 19 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 15 }],\n            },\n        ],\n    },\n    {\n        infoBits: 0x07C94,\n        versionNumber: 7,\n        alignmentPatternCenters: [6, 22, 38],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 78 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 31 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 15 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 13 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 14 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x085BC,\n        versionNumber: 8,\n        alignmentPatternCenters: [6, 24, 42],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 97 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 38 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 39 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 18 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 19 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x09A99,\n        versionNumber: 9,\n        alignmentPatternCenters: [6, 26, 46],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 116 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 36 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 37 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 17 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0A4D3,\n        versionNumber: 10,\n        alignmentPatternCenters: [6, 28, 50],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 68 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 69 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 43 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 44 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 19 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 20 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0BBF6,\n        versionNumber: 11,\n        alignmentPatternCenters: [6, 30, 54],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 81 }],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 50 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 51 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 8, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0C762,\n        versionNumber: 12,\n        alignmentPatternCenters: [6, 32, 58],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 92 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 93 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 36 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 37 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 20 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 21 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0D847,\n        versionNumber: 13,\n        alignmentPatternCenters: [6, 34, 62],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 107 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 37 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 38 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 20 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 21 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 11 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 12 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0E60D,\n        versionNumber: 14,\n        alignmentPatternCenters: [6, 26, 46, 66],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 40 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 41 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 17 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0F928,\n        versionNumber: 15,\n        alignmentPatternCenters: [6, 26, 48, 70],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 87 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 88 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 41 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 42 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x10B78,\n        versionNumber: 16,\n        alignmentPatternCenters: [6, 26, 50, 74],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 98 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 99 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 19 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 20 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1145D,\n        versionNumber: 17,\n        alignmentPatternCenters: [6, 30, 54, 78],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 107 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 108 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 15, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 17, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x12A17,\n        versionNumber: 18,\n        alignmentPatternCenters: [6, 30, 56, 82],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 120 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 121 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 9, dataCodewordsPerBlock: 43 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 44 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x13532,\n        versionNumber: 19,\n        alignmentPatternCenters: [6, 30, 58, 86],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 113 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 114 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 44 },\n                    { numBlocks: 11, dataCodewordsPerBlock: 45 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 21 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 22 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 9, dataCodewordsPerBlock: 13 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 14 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x149A6,\n        versionNumber: 20,\n        alignmentPatternCenters: [6, 34, 62, 90],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 107 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 108 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 41 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 42 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x15683,\n        versionNumber: 21,\n        alignmentPatternCenters: [6, 28, 50, 72, 94],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 116 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 117 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 42 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x168C9,\n        versionNumber: 22,\n        alignmentPatternCenters: [6, 26, 50, 74, 98],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 111 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 112 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 46 }],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 34, dataCodewordsPerBlock: 13 }],\n            },\n        ],\n    },\n    {\n        infoBits: 0x177EC,\n        versionNumber: 23,\n        alignmentPatternCenters: [6, 30, 54, 74, 102],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 16, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x18EC4,\n        versionNumber: 24,\n        alignmentPatternCenters: [6, 28, 54, 80, 106],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 30, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x191E1,\n        versionNumber: 25,\n        alignmentPatternCenters: [6, 32, 58, 84, 110],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 106 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 107 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 22, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1AFAB,\n        versionNumber: 26,\n        alignmentPatternCenters: [6, 30, 58, 86, 114],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 114 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 115 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 28, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 33, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1B08E,\n        versionNumber: 27,\n        alignmentPatternCenters: [6, 34, 62, 90, 118],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 23 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 24 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 28, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1CC1A,\n        versionNumber: 28,\n        alignmentPatternCenters: [6, 26, 50, 74, 98, 122],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1D33F,\n        versionNumber: 29,\n        alignmentPatternCenters: [6, 30, 54, 78, 102, 126],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 116 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 117 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 21, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 23 },\n                    { numBlocks: 37, dataCodewordsPerBlock: 24 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1ED75,\n        versionNumber: 30,\n        alignmentPatternCenters: [6, 26, 52, 78, 104, 130],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 25, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 23, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 25, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1F250,\n        versionNumber: 31,\n        alignmentPatternCenters: [6, 30, 56, 82, 108, 134],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 29, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 42, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 23, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 28, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x209D5,\n        versionNumber: 32,\n        alignmentPatternCenters: [6, 34, 60, 86, 112, 138],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 115 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 35, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 35, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x216F0,\n        versionNumber: 33,\n        alignmentPatternCenters: [6, 30, 58, 86, 114, 142],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 21, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 29, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 19, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 46, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x228BA,\n        versionNumber: 34,\n        alignmentPatternCenters: [6, 34, 62, 90, 118, 146],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 44, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 59, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x2379F,\n        versionNumber: 35,\n        alignmentPatternCenters: [6, 30, 54, 78, 102, 126, 150],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 39, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 41, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x24B0B,\n        versionNumber: 36,\n        alignmentPatternCenters: [6, 24, 50, 76, 102, 128, 154],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 34, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 46, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 64, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x2542E,\n        versionNumber: 37,\n        alignmentPatternCenters: [6, 28, 54, 80, 106, 132, 158],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 29, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 49, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 24, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 46, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x26A64,\n        versionNumber: 38,\n        alignmentPatternCenters: [6, 32, 58, 84, 110, 136, 162],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 18, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 32, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 48, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 42, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 32, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x27541,\n        versionNumber: 39,\n        alignmentPatternCenters: [6, 26, 54, 82, 110, 138, 166],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 20, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 40, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 43, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 22, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 67, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x28C69,\n        versionNumber: 40,\n        alignmentPatternCenters: [6, 30, 58, 86, 114, 142, 170],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 118 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 119 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 18, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 34, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 34, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 20, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 61, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n];\n\n// tslint:disable:no-bitwise\nfunction numBitsDiffering(x, y) {\n    let z = x ^ y;\n    let bitCount = 0;\n    while (z) {\n        bitCount++;\n        z &= z - 1;\n    }\n    return bitCount;\n}\nfunction pushBit(bit, byte) {\n    return (byte << 1) | bit;\n}\n// tslint:enable:no-bitwise\nconst FORMAT_INFO_TABLE = [\n    { bits: 0x5412, formatInfo: { errorCorrectionLevel: 1, dataMask: 0 } },\n    { bits: 0x5125, formatInfo: { errorCorrectionLevel: 1, dataMask: 1 } },\n    { bits: 0x5E7C, formatInfo: { errorCorrectionLevel: 1, dataMask: 2 } },\n    { bits: 0x5B4B, formatInfo: { errorCorrectionLevel: 1, dataMask: 3 } },\n    { bits: 0x45F9, formatInfo: { errorCorrectionLevel: 1, dataMask: 4 } },\n    { bits: 0x40CE, formatInfo: { errorCorrectionLevel: 1, dataMask: 5 } },\n    { bits: 0x4F97, formatInfo: { errorCorrectionLevel: 1, dataMask: 6 } },\n    { bits: 0x4AA0, formatInfo: { errorCorrectionLevel: 1, dataMask: 7 } },\n    { bits: 0x77C4, formatInfo: { errorCorrectionLevel: 0, dataMask: 0 } },\n    { bits: 0x72F3, formatInfo: { errorCorrectionLevel: 0, dataMask: 1 } },\n    { bits: 0x7DAA, formatInfo: { errorCorrectionLevel: 0, dataMask: 2 } },\n    { bits: 0x789D, formatInfo: { errorCorrectionLevel: 0, dataMask: 3 } },\n    { bits: 0x662F, formatInfo: { errorCorrectionLevel: 0, dataMask: 4 } },\n    { bits: 0x6318, formatInfo: { errorCorrectionLevel: 0, dataMask: 5 } },\n    { bits: 0x6C41, formatInfo: { errorCorrectionLevel: 0, dataMask: 6 } },\n    { bits: 0x6976, formatInfo: { errorCorrectionLevel: 0, dataMask: 7 } },\n    { bits: 0x1689, formatInfo: { errorCorrectionLevel: 3, dataMask: 0 } },\n    { bits: 0x13BE, formatInfo: { errorCorrectionLevel: 3, dataMask: 1 } },\n    { bits: 0x1CE7, formatInfo: { errorCorrectionLevel: 3, dataMask: 2 } },\n    { bits: 0x19D0, formatInfo: { errorCorrectionLevel: 3, dataMask: 3 } },\n    { bits: 0x0762, formatInfo: { errorCorrectionLevel: 3, dataMask: 4 } },\n    { bits: 0x0255, formatInfo: { errorCorrectionLevel: 3, dataMask: 5 } },\n    { bits: 0x0D0C, formatInfo: { errorCorrectionLevel: 3, dataMask: 6 } },\n    { bits: 0x083B, formatInfo: { errorCorrectionLevel: 3, dataMask: 7 } },\n    { bits: 0x355F, formatInfo: { errorCorrectionLevel: 2, dataMask: 0 } },\n    { bits: 0x3068, formatInfo: { errorCorrectionLevel: 2, dataMask: 1 } },\n    { bits: 0x3F31, formatInfo: { errorCorrectionLevel: 2, dataMask: 2 } },\n    { bits: 0x3A06, formatInfo: { errorCorrectionLevel: 2, dataMask: 3 } },\n    { bits: 0x24B4, formatInfo: { errorCorrectionLevel: 2, dataMask: 4 } },\n    { bits: 0x2183, formatInfo: { errorCorrectionLevel: 2, dataMask: 5 } },\n    { bits: 0x2EDA, formatInfo: { errorCorrectionLevel: 2, dataMask: 6 } },\n    { bits: 0x2BED, formatInfo: { errorCorrectionLevel: 2, dataMask: 7 } },\n];\nconst DATA_MASKS = [\n    (p) => ((p.y + p.x) % 2) === 0,\n    (p) => (p.y % 2) === 0,\n    (p) => p.x % 3 === 0,\n    (p) => (p.y + p.x) % 3 === 0,\n    (p) => (Math.floor(p.y / 2) + Math.floor(p.x / 3)) % 2 === 0,\n    (p) => ((p.x * p.y) % 2) + ((p.x * p.y) % 3) === 0,\n    (p) => ((((p.y * p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n    (p) => ((((p.y + p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n];\nfunction buildFunctionPatternMask(version) {\n    const dimension = 17 + 4 * version.versionNumber;\n    const matrix = BitMatrix.createEmpty(dimension, dimension);\n    matrix.setRegion(0, 0, 9, 9, true); // Top left finder pattern + separator + format\n    matrix.setRegion(dimension - 8, 0, 8, 9, true); // Top right finder pattern + separator + format\n    matrix.setRegion(0, dimension - 8, 9, 8, true); // Bottom left finder pattern + separator + format\n    // Alignment patterns\n    for (const x of version.alignmentPatternCenters) {\n        for (const y of version.alignmentPatternCenters) {\n            if (!(x === 6 && y === 6 || x === 6 && y === dimension - 7 || x === dimension - 7 && y === 6)) {\n                matrix.setRegion(x - 2, y - 2, 5, 5, true);\n            }\n        }\n    }\n    matrix.setRegion(6, 9, 1, dimension - 17, true); // Vertical timing pattern\n    matrix.setRegion(9, 6, dimension - 17, 1, true); // Horizontal timing pattern\n    if (version.versionNumber > 6) {\n        matrix.setRegion(dimension - 11, 0, 3, 6, true); // Version info, top right\n        matrix.setRegion(0, dimension - 11, 6, 3, true); // Version info, bottom left\n    }\n    return matrix;\n}\nfunction readCodewords(matrix, version, formatInfo) {\n    const dataMask = DATA_MASKS[formatInfo.dataMask];\n    const dimension = matrix.height;\n    const functionPatternMask = buildFunctionPatternMask(version);\n    const codewords = [];\n    let currentByte = 0;\n    let bitsRead = 0;\n    // Read columns in pairs, from right to left\n    let readingUp = true;\n    for (let columnIndex = dimension - 1; columnIndex > 0; columnIndex -= 2) {\n        if (columnIndex === 6) { // Skip whole column with vertical alignment pattern;\n            columnIndex--;\n        }\n        for (let i = 0; i < dimension; i++) {\n            const y = readingUp ? dimension - 1 - i : i;\n            for (let columnOffset = 0; columnOffset < 2; columnOffset++) {\n                const x = columnIndex - columnOffset;\n                if (!functionPatternMask.get(x, y)) {\n                    bitsRead++;\n                    let bit = matrix.get(x, y);\n                    if (dataMask({ y, x })) {\n                        bit = !bit;\n                    }\n                    currentByte = pushBit(bit, currentByte);\n                    if (bitsRead === 8) { // Whole bytes\n                        codewords.push(currentByte);\n                        bitsRead = 0;\n                        currentByte = 0;\n                    }\n                }\n            }\n        }\n        readingUp = !readingUp;\n    }\n    return codewords;\n}\nfunction readVersion(matrix) {\n    const dimension = matrix.height;\n    const provisionalVersion = Math.floor((dimension - 17) / 4);\n    if (provisionalVersion <= 6) { // 6 and under dont have version info in the QR code\n        return VERSIONS[provisionalVersion - 1];\n    }\n    let topRightVersionBits = 0;\n    for (let y = 5; y >= 0; y--) {\n        for (let x = dimension - 9; x >= dimension - 11; x--) {\n            topRightVersionBits = pushBit(matrix.get(x, y), topRightVersionBits);\n        }\n    }\n    let bottomLeftVersionBits = 0;\n    for (let x = 5; x >= 0; x--) {\n        for (let y = dimension - 9; y >= dimension - 11; y--) {\n            bottomLeftVersionBits = pushBit(matrix.get(x, y), bottomLeftVersionBits);\n        }\n    }\n    let bestDifference = Infinity;\n    let bestVersion;\n    for (const version of VERSIONS) {\n        if (version.infoBits === topRightVersionBits || version.infoBits === bottomLeftVersionBits) {\n            return version;\n        }\n        let difference = numBitsDiffering(topRightVersionBits, version.infoBits);\n        if (difference < bestDifference) {\n            bestVersion = version;\n            bestDifference = difference;\n        }\n        difference = numBitsDiffering(bottomLeftVersionBits, version.infoBits);\n        if (difference < bestDifference) {\n            bestVersion = version;\n            bestDifference = difference;\n        }\n    }\n    // We can tolerate up to 3 bits of error since no two version info codewords will\n    // differ in less than 8 bits.\n    if (bestDifference <= 3) {\n        return bestVersion;\n    }\n}\nfunction readFormatInformation(matrix) {\n    let topLeftFormatInfoBits = 0;\n    for (let x = 0; x <= 8; x++) {\n        if (x !== 6) { // Skip timing pattern bit\n            topLeftFormatInfoBits = pushBit(matrix.get(x, 8), topLeftFormatInfoBits);\n        }\n    }\n    for (let y = 7; y >= 0; y--) {\n        if (y !== 6) { // Skip timing pattern bit\n            topLeftFormatInfoBits = pushBit(matrix.get(8, y), topLeftFormatInfoBits);\n        }\n    }\n    const dimension = matrix.height;\n    let topRightBottomRightFormatInfoBits = 0;\n    for (let y = dimension - 1; y >= dimension - 7; y--) { // bottom left\n        topRightBottomRightFormatInfoBits = pushBit(matrix.get(8, y), topRightBottomRightFormatInfoBits);\n    }\n    for (let x = dimension - 8; x < dimension; x++) { // top right\n        topRightBottomRightFormatInfoBits = pushBit(matrix.get(x, 8), topRightBottomRightFormatInfoBits);\n    }\n    let bestDifference = Infinity;\n    let bestFormatInfo = null;\n    for (const { bits, formatInfo } of FORMAT_INFO_TABLE) {\n        if (bits === topLeftFormatInfoBits || bits === topRightBottomRightFormatInfoBits) {\n            return formatInfo;\n        }\n        let difference = numBitsDiffering(topLeftFormatInfoBits, bits);\n        if (difference < bestDifference) {\n            bestFormatInfo = formatInfo;\n            bestDifference = difference;\n        }\n        if (topLeftFormatInfoBits !== topRightBottomRightFormatInfoBits) { // also try the other option\n            difference = numBitsDiffering(topRightBottomRightFormatInfoBits, bits);\n            if (difference < bestDifference) {\n                bestFormatInfo = formatInfo;\n                bestDifference = difference;\n            }\n        }\n    }\n    // Hamming distance of the 32 masked codes is 7, by construction, so <= 3 bits differing means we found a match\n    if (bestDifference <= 3) {\n        return bestFormatInfo;\n    }\n    return null;\n}\nfunction getDataBlocks(codewords, version, ecLevel) {\n    const ecInfo = version.errorCorrectionLevels[ecLevel];\n    const dataBlocks = [];\n    let totalCodewords = 0;\n    ecInfo.ecBlocks.forEach(block => {\n        for (let i = 0; i < block.numBlocks; i++) {\n            dataBlocks.push({ numDataCodewords: block.dataCodewordsPerBlock, codewords: [] });\n            totalCodewords += block.dataCodewordsPerBlock + ecInfo.ecCodewordsPerBlock;\n        }\n    });\n    // In some cases the QR code will be malformed enough that we pull off more or less than we should.\n    // If we pull off less there's nothing we can do.\n    // If we pull off more we can safely truncate\n    if (codewords.length < totalCodewords) {\n        return null;\n    }\n    codewords = codewords.slice(0, totalCodewords);\n    const shortBlockSize = ecInfo.ecBlocks[0].dataCodewordsPerBlock;\n    // Pull codewords to fill the blocks up to the minimum size\n    for (let i = 0; i < shortBlockSize; i++) {\n        for (const dataBlock of dataBlocks) {\n            dataBlock.codewords.push(codewords.shift());\n        }\n    }\n    // If there are any large blocks, pull codewords to fill the last element of those\n    if (ecInfo.ecBlocks.length > 1) {\n        const smallBlockCount = ecInfo.ecBlocks[0].numBlocks;\n        const largeBlockCount = ecInfo.ecBlocks[1].numBlocks;\n        for (let i = 0; i < largeBlockCount; i++) {\n            dataBlocks[smallBlockCount + i].codewords.push(codewords.shift());\n        }\n    }\n    // Add the rest of the codewords to the blocks. These are the error correction codewords.\n    while (codewords.length > 0) {\n        for (const dataBlock of dataBlocks) {\n            dataBlock.codewords.push(codewords.shift());\n        }\n    }\n    return dataBlocks;\n}\nfunction decodeMatrix(matrix) {\n    const version = readVersion(matrix);\n    if (!version) {\n        return null;\n    }\n    const formatInfo = readFormatInformation(matrix);\n    if (!formatInfo) {\n        return null;\n    }\n    const codewords = readCodewords(matrix, version, formatInfo);\n    const dataBlocks = getDataBlocks(codewords, version, formatInfo.errorCorrectionLevel);\n    if (!dataBlocks) {\n        return null;\n    }\n    // Count total number of data bytes\n    const totalBytes = dataBlocks.reduce((a, b) => a + b.numDataCodewords, 0);\n    const resultBytes = new Uint8ClampedArray(totalBytes);\n    let resultIndex = 0;\n    for (const dataBlock of dataBlocks) {\n        const correctedBytes = decode$1(dataBlock.codewords, dataBlock.codewords.length - dataBlock.numDataCodewords);\n        if (!correctedBytes) {\n            return null;\n        }\n        for (let i = 0; i < dataBlock.numDataCodewords; i++) {\n            resultBytes[resultIndex++] = correctedBytes[i];\n        }\n    }\n    try {\n        return decode$2(resultBytes, version.versionNumber);\n    }\n    catch (_a) {\n        return null;\n    }\n}\nfunction decode(matrix) {\n    if (matrix == null) {\n        return null;\n    }\n    const result = decodeMatrix(matrix);\n    if (result) {\n        return result;\n    }\n    // Decoding didn't work, try mirroring the QR across the topLeft -> bottomRight line.\n    for (let x = 0; x < matrix.width; x++) {\n        for (let y = x + 1; y < matrix.height; y++) {\n            if (matrix.get(x, y) !== matrix.get(y, x)) {\n                matrix.set(x, y, !matrix.get(x, y));\n                matrix.set(y, x, !matrix.get(y, x));\n            }\n        }\n    }\n    return decodeMatrix(matrix);\n}\n\nfunction squareToQuadrilateral(p1, p2, p3, p4) {\n    const dx3 = p1.x - p2.x + p3.x - p4.x;\n    const dy3 = p1.y - p2.y + p3.y - p4.y;\n    if (dx3 === 0 && dy3 === 0) { // Affine\n        return {\n            a11: p2.x - p1.x,\n            a12: p2.y - p1.y,\n            a13: 0,\n            a21: p3.x - p2.x,\n            a22: p3.y - p2.y,\n            a23: 0,\n            a31: p1.x,\n            a32: p1.y,\n            a33: 1,\n        };\n    }\n    else {\n        const dx1 = p2.x - p3.x;\n        const dx2 = p4.x - p3.x;\n        const dy1 = p2.y - p3.y;\n        const dy2 = p4.y - p3.y;\n        const denominator = dx1 * dy2 - dx2 * dy1;\n        const a13 = (dx3 * dy2 - dx2 * dy3) / denominator;\n        const a23 = (dx1 * dy3 - dx3 * dy1) / denominator;\n        return {\n            a11: p2.x - p1.x + a13 * p2.x,\n            a12: p2.y - p1.y + a13 * p2.y,\n            a13,\n            a21: p4.x - p1.x + a23 * p4.x,\n            a22: p4.y - p1.y + a23 * p4.y,\n            a23,\n            a31: p1.x,\n            a32: p1.y,\n            a33: 1,\n        };\n    }\n}\nfunction quadrilateralToSquare(p1, p2, p3, p4) {\n    // Here, the adjoint serves as the inverse:\n    const sToQ = squareToQuadrilateral(p1, p2, p3, p4);\n    return {\n        a11: sToQ.a22 * sToQ.a33 - sToQ.a23 * sToQ.a32,\n        a12: sToQ.a13 * sToQ.a32 - sToQ.a12 * sToQ.a33,\n        a13: sToQ.a12 * sToQ.a23 - sToQ.a13 * sToQ.a22,\n        a21: sToQ.a23 * sToQ.a31 - sToQ.a21 * sToQ.a33,\n        a22: sToQ.a11 * sToQ.a33 - sToQ.a13 * sToQ.a31,\n        a23: sToQ.a13 * sToQ.a21 - sToQ.a11 * sToQ.a23,\n        a31: sToQ.a21 * sToQ.a32 - sToQ.a22 * sToQ.a31,\n        a32: sToQ.a12 * sToQ.a31 - sToQ.a11 * sToQ.a32,\n        a33: sToQ.a11 * sToQ.a22 - sToQ.a12 * sToQ.a21,\n    };\n}\nfunction times(a, b) {\n    return {\n        a11: a.a11 * b.a11 + a.a21 * b.a12 + a.a31 * b.a13,\n        a12: a.a12 * b.a11 + a.a22 * b.a12 + a.a32 * b.a13,\n        a13: a.a13 * b.a11 + a.a23 * b.a12 + a.a33 * b.a13,\n        a21: a.a11 * b.a21 + a.a21 * b.a22 + a.a31 * b.a23,\n        a22: a.a12 * b.a21 + a.a22 * b.a22 + a.a32 * b.a23,\n        a23: a.a13 * b.a21 + a.a23 * b.a22 + a.a33 * b.a23,\n        a31: a.a11 * b.a31 + a.a21 * b.a32 + a.a31 * b.a33,\n        a32: a.a12 * b.a31 + a.a22 * b.a32 + a.a32 * b.a33,\n        a33: a.a13 * b.a31 + a.a23 * b.a32 + a.a33 * b.a33,\n    };\n}\nfunction extract(image, location) {\n    const qToS = quadrilateralToSquare({ x: 3.5, y: 3.5 }, { x: location.dimension - 3.5, y: 3.5 }, { x: location.dimension - 6.5, y: location.dimension - 6.5 }, { x: 3.5, y: location.dimension - 3.5 });\n    const sToQ = squareToQuadrilateral(location.topLeft, location.topRight, location.alignmentPattern, location.bottomLeft);\n    const transform = times(sToQ, qToS);\n    const matrix = BitMatrix.createEmpty(location.dimension, location.dimension);\n    const mappingFunction = (x, y) => {\n        const denominator = transform.a13 * x + transform.a23 * y + transform.a33;\n        return {\n            x: (transform.a11 * x + transform.a21 * y + transform.a31) / denominator,\n            y: (transform.a12 * x + transform.a22 * y + transform.a32) / denominator,\n        };\n    };\n    for (let y = 0; y < location.dimension; y++) {\n        for (let x = 0; x < location.dimension; x++) {\n            const xValue = x + 0.5;\n            const yValue = y + 0.5;\n            const sourcePixel = mappingFunction(xValue, yValue);\n            matrix.set(x, y, image.get(Math.floor(sourcePixel.x), Math.floor(sourcePixel.y)));\n        }\n    }\n    return {\n        matrix,\n        mappingFunction,\n    };\n}\n\nconst MAX_FINDERPATTERNS_TO_SEARCH = 5;\nconst MIN_QUAD_RATIO = 0.5;\nconst MAX_QUAD_RATIO = 1.5;\nconst distance = (a, b) => Math.sqrt(Math.pow((b.x - a.x), 2) + Math.pow((b.y - a.y), 2));\nfunction sum(values) {\n    return values.reduce((a, b) => a + b);\n}\n// Takes three finder patterns and organizes them into topLeft, topRight, etc\nfunction reorderFinderPatterns(pattern1, pattern2, pattern3) {\n    // Find distances between pattern centers\n    const oneTwoDistance = distance(pattern1, pattern2);\n    const twoThreeDistance = distance(pattern2, pattern3);\n    const oneThreeDistance = distance(pattern1, pattern3);\n    let bottomLeft;\n    let topLeft;\n    let topRight;\n    // Assume one closest to other two is B; A and C will just be guesses at first\n    if (twoThreeDistance >= oneTwoDistance && twoThreeDistance >= oneThreeDistance) {\n        [bottomLeft, topLeft, topRight] = [pattern2, pattern1, pattern3];\n    }\n    else if (oneThreeDistance >= twoThreeDistance && oneThreeDistance >= oneTwoDistance) {\n        [bottomLeft, topLeft, topRight] = [pattern1, pattern2, pattern3];\n    }\n    else {\n        [bottomLeft, topLeft, topRight] = [pattern1, pattern3, pattern2];\n    }\n    // Use cross product to figure out whether bottomLeft (A) and topRight (C) are correct or flipped in relation to topLeft (B)\n    // This asks whether BC x BA has a positive z component, which is the arrangement we want. If it's negative, then\n    // we've got it flipped around and should swap topRight and bottomLeft.\n    if (((topRight.x - topLeft.x) * (bottomLeft.y - topLeft.y)) - ((topRight.y - topLeft.y) * (bottomLeft.x - topLeft.x)) < 0) {\n        [bottomLeft, topRight] = [topRight, bottomLeft];\n    }\n    return { bottomLeft, topLeft, topRight };\n}\n// Computes the dimension (number of modules on a side) of the QR Code based on the position of the finder patterns\nfunction computeDimension(topLeft, topRight, bottomLeft, matrix) {\n    const moduleSize = (sum(countBlackWhiteRun(topLeft, bottomLeft, matrix, 5)) / 7 + // Divide by 7 since the ratio is 1:1:3:1:1\n        sum(countBlackWhiteRun(topLeft, topRight, matrix, 5)) / 7 +\n        sum(countBlackWhiteRun(bottomLeft, topLeft, matrix, 5)) / 7 +\n        sum(countBlackWhiteRun(topRight, topLeft, matrix, 5)) / 7) / 4;\n    if (moduleSize < 1) {\n        throw new Error(\"Invalid module size\");\n    }\n    const topDimension = Math.round(distance(topLeft, topRight) / moduleSize);\n    const sideDimension = Math.round(distance(topLeft, bottomLeft) / moduleSize);\n    let dimension = Math.floor((topDimension + sideDimension) / 2) + 7;\n    switch (dimension % 4) {\n        case 0:\n            dimension++;\n            break;\n        case 2:\n            dimension--;\n            break;\n    }\n    return { dimension, moduleSize };\n}\n// Takes an origin point and an end point and counts the sizes of the black white run from the origin towards the end point.\n// Returns an array of elements, representing the pixel size of the black white run.\n// Uses a variant of http://en.wikipedia.org/wiki/Bresenham's_line_algorithm\nfunction countBlackWhiteRunTowardsPoint(origin, end, matrix, length) {\n    const switchPoints = [{ x: Math.floor(origin.x), y: Math.floor(origin.y) }];\n    const steep = Math.abs(end.y - origin.y) > Math.abs(end.x - origin.x);\n    let fromX;\n    let fromY;\n    let toX;\n    let toY;\n    if (steep) {\n        fromX = Math.floor(origin.y);\n        fromY = Math.floor(origin.x);\n        toX = Math.floor(end.y);\n        toY = Math.floor(end.x);\n    }\n    else {\n        fromX = Math.floor(origin.x);\n        fromY = Math.floor(origin.y);\n        toX = Math.floor(end.x);\n        toY = Math.floor(end.y);\n    }\n    const dx = Math.abs(toX - fromX);\n    const dy = Math.abs(toY - fromY);\n    let error = Math.floor(-dx / 2);\n    const xStep = fromX < toX ? 1 : -1;\n    const yStep = fromY < toY ? 1 : -1;\n    let currentPixel = true;\n    // Loop up until x == toX, but not beyond\n    for (let x = fromX, y = fromY; x !== toX + xStep; x += xStep) {\n        // Does current pixel mean we have moved white to black or vice versa?\n        // Scanning black in state 0,2 and white in state 1, so if we find the wrong\n        // color, advance to next state or end if we are in state 2 already\n        const realX = steep ? y : x;\n        const realY = steep ? x : y;\n        if (matrix.get(realX, realY) !== currentPixel) {\n            currentPixel = !currentPixel;\n            switchPoints.push({ x: realX, y: realY });\n            if (switchPoints.length === length + 1) {\n                break;\n            }\n        }\n        error += dy;\n        if (error > 0) {\n            if (y === toY) {\n                break;\n            }\n            y += yStep;\n            error -= dx;\n        }\n    }\n    const distances = [];\n    for (let i = 0; i < length; i++) {\n        if (switchPoints[i] && switchPoints[i + 1]) {\n            distances.push(distance(switchPoints[i], switchPoints[i + 1]));\n        }\n        else {\n            distances.push(0);\n        }\n    }\n    return distances;\n}\n// Takes an origin point and an end point and counts the sizes of the black white run in the origin point\n// along the line that intersects with the end point. Returns an array of elements, representing the pixel sizes\n// of the black white run. Takes a length which represents the number of switches from black to white to look for.\nfunction countBlackWhiteRun(origin, end, matrix, length) {\n    const rise = end.y - origin.y;\n    const run = end.x - origin.x;\n    const towardsEnd = countBlackWhiteRunTowardsPoint(origin, end, matrix, Math.ceil(length / 2));\n    const awayFromEnd = countBlackWhiteRunTowardsPoint(origin, { x: origin.x - run, y: origin.y - rise }, matrix, Math.ceil(length / 2));\n    const middleValue = towardsEnd.shift() + awayFromEnd.shift() - 1; // Substract one so we don't double count a pixel\n    return awayFromEnd.concat(middleValue).concat(...towardsEnd);\n}\n// Takes in a black white run and an array of expected ratios. Returns the average size of the run as well as the \"error\" -\n// that is the amount the run diverges from the expected ratio\nfunction scoreBlackWhiteRun(sequence, ratios) {\n    const averageSize = sum(sequence) / sum(ratios);\n    let error = 0;\n    ratios.forEach((ratio, i) => {\n        error += Math.pow((sequence[i] - ratio * averageSize), 2);\n    });\n    return { averageSize, error };\n}\n// Takes an X,Y point and an array of sizes and scores the point against those ratios.\n// For example for a finder pattern takes the ratio list of 1:1:3:1:1 and checks horizontal, vertical and diagonal ratios\n// against that.\nfunction scorePattern(point, ratios, matrix) {\n    try {\n        const horizontalRun = countBlackWhiteRun(point, { x: -1, y: point.y }, matrix, ratios.length);\n        const verticalRun = countBlackWhiteRun(point, { x: point.x, y: -1 }, matrix, ratios.length);\n        const topLeftPoint = {\n            x: Math.max(0, point.x - point.y) - 1,\n            y: Math.max(0, point.y - point.x) - 1,\n        };\n        const topLeftBottomRightRun = countBlackWhiteRun(point, topLeftPoint, matrix, ratios.length);\n        const bottomLeftPoint = {\n            x: Math.min(matrix.width, point.x + point.y) + 1,\n            y: Math.min(matrix.height, point.y + point.x) + 1,\n        };\n        const bottomLeftTopRightRun = countBlackWhiteRun(point, bottomLeftPoint, matrix, ratios.length);\n        const horzError = scoreBlackWhiteRun(horizontalRun, ratios);\n        const vertError = scoreBlackWhiteRun(verticalRun, ratios);\n        const diagDownError = scoreBlackWhiteRun(topLeftBottomRightRun, ratios);\n        const diagUpError = scoreBlackWhiteRun(bottomLeftTopRightRun, ratios);\n        const ratioError = Math.sqrt(horzError.error * horzError.error +\n            vertError.error * vertError.error +\n            diagDownError.error * diagDownError.error +\n            diagUpError.error * diagUpError.error);\n        const avgSize = (horzError.averageSize + vertError.averageSize + diagDownError.averageSize + diagUpError.averageSize) / 4;\n        const sizeError = (Math.pow((horzError.averageSize - avgSize), 2) +\n            Math.pow((vertError.averageSize - avgSize), 2) +\n            Math.pow((diagDownError.averageSize - avgSize), 2) +\n            Math.pow((diagUpError.averageSize - avgSize), 2)) / avgSize;\n        return ratioError + sizeError;\n    }\n    catch (_a) {\n        return Infinity;\n    }\n}\nfunction recenterLocation(matrix, p) {\n    let leftX = Math.round(p.x);\n    while (matrix.get(leftX, Math.round(p.y))) {\n        leftX--;\n    }\n    let rightX = Math.round(p.x);\n    while (matrix.get(rightX, Math.round(p.y))) {\n        rightX++;\n    }\n    const x = (leftX + rightX) / 2;\n    let topY = Math.round(p.y);\n    while (matrix.get(Math.round(x), topY)) {\n        topY--;\n    }\n    let bottomY = Math.round(p.y);\n    while (matrix.get(Math.round(x), bottomY)) {\n        bottomY++;\n    }\n    const y = (topY + bottomY) / 2;\n    return { x, y };\n}\nfunction locate(matrix) {\n    const finderPatternQuads = [];\n    let activeFinderPatternQuads = [];\n    const alignmentPatternQuads = [];\n    let activeAlignmentPatternQuads = [];\n    for (let y = 0; y <= matrix.height; y++) {\n        let length = 0;\n        let lastBit = false;\n        let scans = [0, 0, 0, 0, 0];\n        for (let x = -1; x <= matrix.width; x++) {\n            const v = matrix.get(x, y);\n            if (v === lastBit) {\n                length++;\n            }\n            else {\n                scans = [scans[1], scans[2], scans[3], scans[4], length];\n                length = 1;\n                lastBit = v;\n                // Do the last 5 color changes ~ match the expected ratio for a finder pattern? 1:1:3:1:1 of b:w:b:w:b\n                const averageFinderPatternBlocksize = sum(scans) / 7;\n                const validFinderPattern = Math.abs(scans[0] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[1] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[2] - 3 * averageFinderPatternBlocksize) < 3 * averageFinderPatternBlocksize &&\n                    Math.abs(scans[3] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[4] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    !v; // And make sure the current pixel is white since finder patterns are bordered in white\n                // Do the last 3 color changes ~ match the expected ratio for an alignment pattern? 1:1:1 of w:b:w\n                const averageAlignmentPatternBlocksize = sum(scans.slice(-3)) / 3;\n                const validAlignmentPattern = Math.abs(scans[2] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    Math.abs(scans[3] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    Math.abs(scans[4] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    v; // Is the current pixel black since alignment patterns are bordered in black\n                if (validFinderPattern) {\n                    // Compute the start and end x values of the large center black square\n                    const endX = x - scans[3] - scans[4];\n                    const startX = endX - scans[2];\n                    const line = { startX, endX, y };\n                    // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n                    // that line as the starting point.\n                    const matchingQuads = activeFinderPatternQuads.filter(q => (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (startX <= q.bottom.startX && endX >= q.bottom.endX && ((scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n                            (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO)));\n                    if (matchingQuads.length > 0) {\n                        matchingQuads[0].bottom = line;\n                    }\n                    else {\n                        activeFinderPatternQuads.push({ top: line, bottom: line });\n                    }\n                }\n                if (validAlignmentPattern) {\n                    // Compute the start and end x values of the center black square\n                    const endX = x - scans[4];\n                    const startX = endX - scans[3];\n                    const line = { startX, y, endX };\n                    // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n                    // that line as the starting point.\n                    const matchingQuads = activeAlignmentPatternQuads.filter(q => (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (startX <= q.bottom.startX && endX >= q.bottom.endX && ((scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n                            (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO)));\n                    if (matchingQuads.length > 0) {\n                        matchingQuads[0].bottom = line;\n                    }\n                    else {\n                        activeAlignmentPatternQuads.push({ top: line, bottom: line });\n                    }\n                }\n            }\n        }\n        finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y !== y && q.bottom.y - q.top.y >= 2));\n        activeFinderPatternQuads = activeFinderPatternQuads.filter(q => q.bottom.y === y);\n        alignmentPatternQuads.push(...activeAlignmentPatternQuads.filter(q => q.bottom.y !== y));\n        activeAlignmentPatternQuads = activeAlignmentPatternQuads.filter(q => q.bottom.y === y);\n    }\n    finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y - q.top.y >= 2));\n    alignmentPatternQuads.push(...activeAlignmentPatternQuads);\n    // Refactored from cozmo/jsQR to (hopefully) circumvent an issue in Safari 13+ on both Mac and iOS (also including\n    // iOS Chrome and other Safari iOS derivatives). Safari was very occasionally and apparently not deterministically\n    // throwing a \"RangeError: Array size is not a small enough positive integer.\" exception seemingly within the second\n    // .map of the original code (here the second for-loop). This second .map contained a nested .map call over the same\n    // array instance which was the chained result from previous calls to .map, .filter and .sort which potentially caused\n    // this bug in Safari?\n    // Also see https://github.com/cozmo/jsQR/issues/157 and https://bugs.webkit.org/show_bug.cgi?id=211619#c3\n    const scoredFinderPatternPositions = [];\n    for (const quad of finderPatternQuads) {\n        if (quad.bottom.y - quad.top.y < 2) {\n            // All quads must be at least 2px tall since the center square is larger than a block\n            continue;\n        }\n        // calculate quad center\n        const x = (quad.top.startX + quad.top.endX + quad.bottom.startX + quad.bottom.endX) / 4;\n        const y = (quad.top.y + quad.bottom.y + 1) / 2;\n        if (!matrix.get(Math.round(x), Math.round(y))) {\n            continue;\n        }\n        const lengths = [quad.top.endX - quad.top.startX, quad.bottom.endX - quad.bottom.startX, quad.bottom.y - quad.top.y + 1];\n        const size = sum(lengths) / lengths.length;\n        // Initial scoring of finder pattern quads by looking at their ratios, not taking into account position\n        const score = scorePattern({ x: Math.round(x), y: Math.round(y) }, [1, 1, 3, 1, 1], matrix);\n        scoredFinderPatternPositions.push({ score, x, y, size });\n    }\n    if (scoredFinderPatternPositions.length < 3) {\n        // A QR code has 3 finder patterns, therefore we need at least 3 candidates.\n        return null;\n    }\n    scoredFinderPatternPositions.sort((a, b) => a.score - b.score);\n    // Now take the top finder pattern options and try to find 2 other options with a similar size.\n    const finderPatternGroups = [];\n    for (let i = 0; i < Math.min(scoredFinderPatternPositions.length, MAX_FINDERPATTERNS_TO_SEARCH); ++i) {\n        const point = scoredFinderPatternPositions[i];\n        const otherPoints = [];\n        for (const otherPoint of scoredFinderPatternPositions) {\n            if (otherPoint === point) {\n                continue;\n            }\n            otherPoints.push(Object.assign(Object.assign({}, otherPoint), { score: otherPoint.score + (Math.pow((otherPoint.size - point.size), 2)) / point.size }));\n        }\n        otherPoints.sort((a, b) => a.score - b.score);\n        finderPatternGroups.push({\n            points: [point, otherPoints[0], otherPoints[1]],\n            score: point.score + otherPoints[0].score + otherPoints[1].score, // total combined score of the three points in the group\n        });\n    }\n    finderPatternGroups.sort((a, b) => a.score - b.score);\n    const bestFinderPatternGroup = finderPatternGroups[0];\n    const { topRight, topLeft, bottomLeft } = reorderFinderPatterns(...bestFinderPatternGroup.points);\n    const alignment = findAlignmentPattern(matrix, alignmentPatternQuads, topRight, topLeft, bottomLeft);\n    const result = [];\n    if (alignment) {\n        result.push({\n            alignmentPattern: { x: alignment.alignmentPattern.x, y: alignment.alignmentPattern.y },\n            bottomLeft: { x: bottomLeft.x, y: bottomLeft.y },\n            dimension: alignment.dimension,\n            topLeft: { x: topLeft.x, y: topLeft.y },\n            topRight: { x: topRight.x, y: topRight.y },\n        });\n    }\n    // We normally use the center of the quads as the location of the tracking points, which is optimal for most cases and will account\n    // for a skew in the image. However, In some cases, a slight skew might not be real and instead be caused by image compression\n    // errors and/or low resolution. For those cases, we'd be better off centering the point exactly in the middle of the black area. We\n    // compute and return the location data for the naively centered points as it is little additional work and allows for multiple\n    // attempts at decoding harder images.\n    const midTopRight = recenterLocation(matrix, topRight);\n    const midTopLeft = recenterLocation(matrix, topLeft);\n    const midBottomLeft = recenterLocation(matrix, bottomLeft);\n    const centeredAlignment = findAlignmentPattern(matrix, alignmentPatternQuads, midTopRight, midTopLeft, midBottomLeft);\n    if (centeredAlignment) {\n        result.push({\n            alignmentPattern: { x: centeredAlignment.alignmentPattern.x, y: centeredAlignment.alignmentPattern.y },\n            bottomLeft: { x: midBottomLeft.x, y: midBottomLeft.y },\n            topLeft: { x: midTopLeft.x, y: midTopLeft.y },\n            topRight: { x: midTopRight.x, y: midTopRight.y },\n            dimension: centeredAlignment.dimension,\n        });\n    }\n    if (result.length === 0) {\n        return null;\n    }\n    return result;\n}\nfunction findAlignmentPattern(matrix, alignmentPatternQuads, topRight, topLeft, bottomLeft) {\n    // Now that we've found the three finder patterns we can determine the blockSize and the size of the QR code.\n    // We'll use these to help find the alignment pattern but also later when we do the extraction.\n    let dimension;\n    let moduleSize;\n    try {\n        ({ dimension, moduleSize } = computeDimension(topLeft, topRight, bottomLeft, matrix));\n    }\n    catch (e) {\n        return null;\n    }\n    // Now find the alignment pattern\n    const bottomRightFinderPattern = {\n        x: topRight.x - topLeft.x + bottomLeft.x,\n        y: topRight.y - topLeft.y + bottomLeft.y,\n    };\n    const modulesBetweenFinderPatterns = ((distance(topLeft, bottomLeft) + distance(topLeft, topRight)) / 2 / moduleSize);\n    const correctionToTopLeft = 1 - (3 / modulesBetweenFinderPatterns);\n    const expectedAlignmentPattern = {\n        x: topLeft.x + correctionToTopLeft * (bottomRightFinderPattern.x - topLeft.x),\n        y: topLeft.y + correctionToTopLeft * (bottomRightFinderPattern.y - topLeft.y),\n    };\n    const alignmentPatterns = alignmentPatternQuads\n        .map(q => {\n        const x = (q.top.startX + q.top.endX + q.bottom.startX + q.bottom.endX) / 4;\n        const y = (q.top.y + q.bottom.y + 1) / 2;\n        if (!matrix.get(Math.floor(x), Math.floor(y))) {\n            return;\n        }\n        const sizeScore = scorePattern({ x: Math.floor(x), y: Math.floor(y) }, [1, 1, 1], matrix);\n        const score = sizeScore + distance({ x, y }, expectedAlignmentPattern);\n        return { x, y, score };\n    })\n        .filter(v => !!v)\n        .sort((a, b) => a.score - b.score);\n    // If there are less than 15 modules between finder patterns it's a version 1 QR code and as such has no alignmemnt pattern\n    // so we can only use our best guess.\n    const alignmentPattern = modulesBetweenFinderPatterns >= 15 && alignmentPatterns.length ? alignmentPatterns[0] : expectedAlignmentPattern;\n    return { alignmentPattern, dimension };\n}\n\nfunction scan(matrix) {\n    const locations = locate(matrix);\n    if (!locations) {\n        return null;\n    }\n    for (const location of locations) {\n        const extracted = extract(matrix, location);\n        const decoded = decode(extracted.matrix);\n        if (decoded) {\n            return {\n                binaryData: decoded.bytes,\n                data: decoded.text,\n                chunks: decoded.chunks,\n                version: decoded.version,\n                location: {\n                    topRightCorner: extracted.mappingFunction(location.dimension, 0),\n                    topLeftCorner: extracted.mappingFunction(0, 0),\n                    bottomRightCorner: extracted.mappingFunction(location.dimension, location.dimension),\n                    bottomLeftCorner: extracted.mappingFunction(0, location.dimension),\n                    topRightFinderPattern: location.topRight,\n                    topLeftFinderPattern: location.topLeft,\n                    bottomLeftFinderPattern: location.bottomLeft,\n                    bottomRightAlignmentPattern: location.alignmentPattern,\n                },\n                matrix: extracted.matrix,\n            };\n        }\n    }\n    return null;\n}\nconst defaultOptions = {\n    inversionAttempts: \"attemptBoth\",\n    greyScaleWeights: {\n        red: 0.2126,\n        green: 0.7152,\n        blue: 0.0722,\n        useIntegerApproximation: false,\n    },\n    canOverwriteImage: true,\n};\nfunction mergeObject(target, src) {\n    Object.keys(src).forEach(opt => {\n        target[opt] = src[opt];\n    });\n}\nfunction jsQR(data, width, height, providedOptions = {}) {\n    const options = Object.create(null);\n    mergeObject(options, defaultOptions);\n    mergeObject(options, providedOptions);\n    const tryInvertedFirst = options.inversionAttempts === \"onlyInvert\" || options.inversionAttempts === \"invertFirst\";\n    const shouldInvert = options.inversionAttempts === \"attemptBoth\" || tryInvertedFirst;\n    const { binarized, inverted } = binarize(data, width, height, shouldInvert, options.greyScaleWeights, options.canOverwriteImage);\n    let result = scan(tryInvertedFirst ? inverted : binarized);\n    if (!result && (options.inversionAttempts === \"attemptBoth\" || options.inversionAttempts === \"invertFirst\")) {\n        result = scan(tryInvertedFirst ? binarized : inverted);\n    }\n    return result;\n}\njsQR.default = jsQR;\n\nexport { jsQR as default };\n//# sourceMappingURL=jsQR.js.map\n","export function blobToImageData(blob: Blob): Promise<ImageData> {\n  const blobUrl = URL.createObjectURL(blob);\n  const img = new Image();\n\n  return new Promise<void>((resolve, reject) => {\n    img.onload = () => resolve();\n    img.onerror = (err) => reject(err);\n    img.src = blobUrl;\n  }).then(() => {\n    URL.revokeObjectURL(blobUrl);\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(img, 0, 0);\n    return ctx.getImageData(0, 0, canvas.width, canvas.height);\n  });\n}\n\nexport function canvasImageSourceToImageData(\n  img: CanvasImageSource,\n): ImageData {\n  const canvas = document.createElement('canvas');\n  if (img instanceof HTMLVideoElement) {\n    canvas.width = img.videoWidth;\n    canvas.height = img.videoHeight;\n  } else if (img instanceof SVGImageElement) {\n    canvas.width = img.width.baseVal.value;\n    canvas.height = img.height.baseVal.value;\n  } else if (img instanceof VideoFrame) {\n    canvas.width = img.codedWidth;\n    canvas.height = img.codedHeight;\n  } else {\n    canvas.width = img.width;\n    canvas.height = img.height;\n  }\n  const ctx = canvas.getContext('2d');\n  ctx.drawImage(img, 0, 0);\n  return ctx.getImageData(0, 0, canvas.width, canvas.height);\n}\n\n// This QR code is used to check if the built-in BarcodeDetector is functioning properly. This QR code is 23x23 and decodes to \"ABC\".\n// Google Chrome on macOS on the M1 processor was broken for a long time. https://bugs.chromium.org/p/chromium/issues/detail?id=1382442\nexport function testQrCode(): ImageData {\n  const data =\n    '0000000000000000000000001111111001101011111110010000010100010100000100101110100011001011101001011101001111010111010010111010110010101110100100000100010101000001001111111010101011111110000000000000110000000000101010100111000010010001001000111100010010000011010011111010001101000010011011100001001010000000101000101010101100000000000111101010100000111111100101011100100001000001000111101110000010111010110101110010100101110100000001000110001011101011101000100010010000010001000100011100111111101000101010101000000000000000000000000';\n  const byteArray = new Uint8ClampedArray(2116); // 23*23*4\n  for (let i = 0; i < data.length; i++) {\n    const value = data[i] === '1' ? 0 : 255;\n    byteArray[4 * i + 0] = value;\n    byteArray[4 * i + 1] = value;\n    byteArray[4 * i + 2] = value;\n    byteArray[4 * i + 3] = 255;\n  }\n  return new ImageData(byteArray, 23, 23);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import jsQR from 'jsqr-es6';\n\nimport type {\n  BarcodeDetector,\n  BarcodeDetectorOptions,\n  BarcodeFormat,\n  DetectedBarcode,\n} from './BarcodeDetector';\nimport {\n  blobToImageData,\n  canvasImageSourceToImageData,\n  testQrCode,\n} from './utils';\n\nexport default class QrDetector implements BarcodeDetector {\n  _nativeDetectorSupported: boolean | undefined = undefined;\n  barcodeDetector: BarcodeDetector | undefined = undefined;\n\n  constructor(barcodeDetectorOptions?: BarcodeDetectorOptions) {\n    if ((self as any).BarcodeDetector) {\n      this.barcodeDetector = new (self as any).BarcodeDetector(\n        barcodeDetectorOptions,\n      );\n    }\n  }\n\n  async detect(image: ImageBitmapSource): Promise<DetectedBarcode[]> {\n    if (\n      this._nativeDetectorSupported === true ||\n      (this._nativeDetectorSupported === undefined &&\n        (await this.nativeDetectorSupported()))\n    ) {\n      return this.barcodeDetector.detect(image);\n    }\n\n    // Fall back to jsQR\n    if (image instanceof ImageData) {\n    } else if (image instanceof Blob) {\n      image = await blobToImageData(image);\n    } else {\n      image = canvasImageSourceToImageData(image);\n    }\n    if (!(image instanceof ImageData)) {\n      throw Error('The image is not provided in a supported format.');\n    }\n\n    const result = jsQR(image.data, image.width, image.height);\n    if (!result || result.data === '') {\n      // For some reason, jsQR can sometimes return an invalid result with an empty string. Probably a bug in jsQR?\n      return [];\n    }\n\n    const minX = Math.min(\n      result.location.topLeftCorner.x,\n      result.location.topRightCorner.x,\n      result.location.bottomRightCorner.x,\n      result.location.bottomLeftCorner.x,\n    );\n    const minY = Math.min(\n      result.location.topLeftCorner.y,\n      result.location.topRightCorner.y,\n      result.location.bottomRightCorner.y,\n      result.location.bottomLeftCorner.y,\n    );\n    const maxX = Math.max(\n      result.location.topLeftCorner.x,\n      result.location.topRightCorner.x,\n      result.location.bottomRightCorner.x,\n      result.location.bottomLeftCorner.x,\n    );\n    const maxY = Math.max(\n      result.location.topLeftCorner.y,\n      result.location.topRightCorner.y,\n      result.location.bottomRightCorner.y,\n      result.location.bottomLeftCorner.y,\n    );\n\n    return [\n      {\n        format: 'qr_code',\n        rawValue: result.data,\n        boundingBox: new DOMRectReadOnly(minX, minY, maxX - minX, maxY - minY),\n        cornerPoints: [\n          result.location.topLeftCorner,\n          result.location.topRightCorner,\n          result.location.bottomRightCorner,\n          result.location.bottomLeftCorner,\n        ],\n      },\n    ];\n  }\n\n  static async getSupportedFormats(): Promise<BarcodeFormat[]> {\n    return ['qr_code'];\n  }\n\n  async nativeDetectorSupported(): Promise<boolean> {\n    if (this._nativeDetectorSupported === undefined) {\n      if ((self as any).BarcodeDetector) {\n        const supportedFormats = await (\n          self as any\n        ).BarcodeDetector.getSupportedFormats();\n        if (supportedFormats.includes('qr_code')) {\n          // Double check that the native BarcodeDetector isn't broken by decoding a test QR code. https://bugs.chromium.org/p/chromium/issues/detail?id=1382442\n          const testResult = await this.barcodeDetector.detect(testQrCode());\n          if (testResult.length === 1 && testResult[0].rawValue === 'ABC') {\n            this._nativeDetectorSupported = true;\n            return true;\n          }\n        }\n      }\n      this._nativeDetectorSupported = false;\n    }\n    return this._nativeDetectorSupported;\n  }\n}\n"],"names":["BitMatrix","constructor","data","width","this","height","length","createEmpty","Uint8ClampedArray","get","x","y","set","v","setRegion","left","top","REGION_SIZE","MIN_DYNAMIC_RANGE","numBetween","value","min","max","Matrix","buffer","bufferSize","Error","BitStream","bytes","byteOffset","bitOffset","readBits","numBits","available","toString","result","bitsLeft","toRead","bitsToNotRead","mask","Mode","ModeByte","decodeNumeric","stream","size","text","characterCountSize","num","a","Math","floor","b","c","push","AlphanumericCharacterCodes","decodeAlphanumeric","charCodeAt","decodeByte","i","decodeURIComponent","map","substr","join","_a","decodeKanji","k","TextDecoder","decode","Uint8Array","from","GenericGFPoly","field","coefficients","coefficientsLength","firstNonZero","zero","degree","isZero","getCoefficient","addOrSubtract","other","smallerCoefficients","largerCoefficients","sumDiff","lengthDiff","addOrSubtractGF","multiply","scalar","product","multiplyPoly","aCoefficients","aLength","bCoefficients","bLength","aCoeff","j","multiplyByMonomial","coefficient","evaluateAt","forEach","GenericGF","primitive","genBase","generatorBase","expTable","Array","logTable","one","inverse","buildMonomial","log","exp","decode$1","twoS","outputBytes","poly","syndromeCoefficients","error","s","evaluation","syndrome","sigmaOmega","R","rLast","r","tLast","t","rLastLast","tLastLast","q","denominatorLeadingTerm","dltInverse","degreeDiff","scale","sigmaTildeAtZero","runEuclideanAlgorithm","errorLocations","errorLocator","numErrors","errorCount","findErrorLocations","errorMagnitudes","errorEvaluator","xiInverse","denominator","findErrorMagnitudes","position","VERSIONS","infoBits","versionNumber","alignmentPatternCenters","errorCorrectionLevels","ecCodewordsPerBlock","ecBlocks","numBlocks","dataCodewordsPerBlock","numBitsDiffering","z","bitCount","pushBit","bit","byte","FORMAT_INFO_TABLE","bits","formatInfo","errorCorrectionLevel","dataMask","DATA_MASKS","p","decodeMatrix","matrix","version","dimension","provisionalVersion","topRightVersionBits","bottomLeftVersionBits","bestVersion","bestDifference","Infinity","difference","readVersion","topLeftFormatInfoBits","topRightBottomRightFormatInfoBits","bestFormatInfo","readFormatInformation","dataBlocks","codewords","ecLevel","ecInfo","totalCodewords","block","numDataCodewords","slice","shortBlockSize","dataBlock","shift","smallBlockCount","largeBlockCount","getDataBlocks","functionPatternMask","buildFunctionPatternMask","currentByte","bitsRead","readingUp","columnIndex","columnOffset","readCodewords","totalBytes","reduce","resultBytes","resultIndex","correctedBytes","chunks","mode","Terminator","ECI","type","assignmentNumber","Numeric","numericResult","Alphanumeric","alphanumericResult","Byte","byteResult","Kanji","kanjiResult","StructuredAppend","currentSequence","totalSequence","parity","decode$2","squareToQuadrilateral","p1","p2","p3","p4","dx3","dy3","a11","a12","a13","a21","a22","a23","a31","a32","a33","dx1","dx2","dy1","dy2","extract","image","location","qToS","sToQ","quadrilateralToSquare","transform","topLeft","topRight","alignmentPattern","bottomLeft","mappingFunction","sourcePixel","MAX_FINDERPATTERNS_TO_SEARCH","MIN_QUAD_RATIO","MAX_QUAD_RATIO","distance","sqrt","pow","sum","values","countBlackWhiteRunTowardsPoint","origin","end","switchPoints","steep","abs","fromX","fromY","toX","toY","dx","dy","xStep","yStep","currentPixel","realX","realY","distances","countBlackWhiteRun","rise","run","towardsEnd","ceil","awayFromEnd","middleValue","concat","scoreBlackWhiteRun","sequence","ratios","averageSize","ratio","scorePattern","point","horizontalRun","verticalRun","topLeftBottomRightRun","bottomLeftTopRightRun","horzError","vertError","diagDownError","diagUpError","ratioError","avgSize","recenterLocation","leftX","round","rightX","topY","bottomY","findAlignmentPattern","alignmentPatternQuads","moduleSize","topDimension","sideDimension","computeDimension","e","bottomRightFinderPattern","modulesBetweenFinderPatterns","correctionToTopLeft","expectedAlignmentPattern","alignmentPatterns","startX","endX","bottom","score","filter","sort","scan","locations","finderPatternQuads","activeFinderPatternQuads","activeAlignmentPatternQuads","lastBit","scans","averageFinderPatternBlocksize","validFinderPattern","averageAlignmentPatternBlocksize","validAlignmentPattern","line","matchingQuads","scoredFinderPatternPositions","quad","lengths","finderPatternGroups","otherPoints","otherPoint","Object","assign","points","bestFinderPatternGroup","pattern1","pattern2","pattern3","oneTwoDistance","twoThreeDistance","oneThreeDistance","reorderFinderPatterns","alignment","midTopRight","midTopLeft","midBottomLeft","centeredAlignment","locate","extracted","decoded","binaryData","topRightCorner","topLeftCorner","bottomRightCorner","bottomLeftCorner","topRightFinderPattern","topLeftFinderPattern","bottomLeftFinderPattern","bottomRightAlignmentPattern","defaultOptions","inversionAttempts","greyScaleWeights","red","green","blue","useIntegerApproximation","canOverwriteImage","mergeObject","target","src","keys","opt","jsQR","providedOptions","options","create","tryInvertedFirst","shouldInvert","binarized","inverted","returnInverted","greyscaleWeights","pixelCount","greyscaleBuffer","bufferOffset","greyscalePixels","pixelPosition","g","horizontalRegionCount","verticalRegionCount","blackPointsCount","blackPointsBuffer","blackPoints","verticalRegion","hortizontalRegion","pixelLumosity","average","blackBias","averageNeighborBlackPoint","binarizedBuffer","invertedBuffer","xRegion","yRegion","threshold","lum","binarize","default","blob","blobUrl","URL","createObjectURL","img","Image","Promise","resolve","reject","onload","onerror","err","then","revokeObjectURL","canvas","document","createElement","ctx","getContext","drawImage","getImageData","HTMLVideoElement","videoWidth","videoHeight","SVGImageElement","baseVal","VideoFrame","codedWidth","codedHeight","byteArray","ImageData","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","barcodeDetectorOptions","_nativeDetectorSupported","barcodeDetector","self","BarcodeDetector","detect","nativeDetectorSupported","Blob","blobToImageData","canvasImageSourceToImageData","minX","minY","maxX","maxY","format","rawValue","boundingBox","DOMRectReadOnly","cornerPoints","getSupportedFormats","includes","testResult","testQrCode"],"sourceRoot":""}